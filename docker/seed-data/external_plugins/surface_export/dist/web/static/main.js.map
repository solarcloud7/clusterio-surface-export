{"version":3,"file":"static/main.js","mappings":"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","sources":["webpack://@solarcloud7/plugin-surface-export/webpack/runtime/sharing","webpack://@solarcloud7/plugin-surface-export/webpack/runtime/consumes","webpack://@solarcloud7/plugin-surface-export/./web/style.css","webpack://@solarcloud7/plugin-surface-export/./node_modules/css-loader/dist/runtime/api.js","webpack://@solarcloud7/plugin-surface-export/./node_modules/css-loader/dist/runtime/noSourceMaps.js","webpack://@solarcloud7/plugin-surface-export/./node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://@solarcloud7/plugin-surface-export/./node_modules/react/jsx-runtime.js","webpack://@solarcloud7/plugin-surface-export/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://@solarcloud7/plugin-surface-export/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://@solarcloud7/plugin-surface-export/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://@solarcloud7/plugin-surface-export/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://@solarcloud7/plugin-surface-export/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://@solarcloud7/plugin-surface-export/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://@solarcloud7/plugin-surface-export/./messages.js","webpack://@solarcloud7/plugin-surface-export/./web/style.css?93f3","webpack://@solarcloud7/plugin-surface-export/./web/index.jsx","webpack://@solarcloud7/plugin-surface-export/webpack/bootstrap","webpack://@solarcloud7/plugin-surface-export/webpack/runtime/compat get default export","webpack://@solarcloud7/plugin-surface-export/webpack/runtime/define property getters","webpack://@solarcloud7/plugin-surface-export/webpack/runtime/hasOwnProperty shorthand","webpack://@solarcloud7/plugin-surface-export/webpack/runtime/nonce","webpack://@solarcloud7/plugin-surface-export/webpack/startup"],"sourcesContent":["__webpack_require__.S = {};\nvar initPromises = {};\nvar initTokens = {};\n__webpack_require__.I = (name, initScope) => {\n\tif(!initScope) initScope = [];\n\t// handling circular init calls\n\tvar initToken = initTokens[name];\n\tif(!initToken) initToken = initTokens[name] = {};\n\tif(initScope.indexOf(initToken) >= 0) return;\n\tinitScope.push(initToken);\n\t// only runs once\n\tif(initPromises[name]) return initPromises[name];\n\t// creates a new share scope if needed\n\tif(!__webpack_require__.o(__webpack_require__.S, name)) __webpack_require__.S[name] = {};\n\t// runs all init snippets from all modules reachable\n\tvar scope = __webpack_require__.S[name];\n\tvar warn = (msg) => {\n\t\tif (typeof console !== \"undefined\" && console.warn) console.warn(msg);\n\t};\n\tvar uniqueName = \"@solarcloud7/plugin-surface-export\";\n\tvar register = (name, version, factory, eager) => {\n\t\tvar versions = scope[name] = scope[name] || {};\n\t\tvar activeVersion = versions[version];\n\t\tif(!activeVersion || (!activeVersion.loaded && (!eager != !activeVersion.eager ? eager : uniqueName > activeVersion.from))) versions[version] = { get: factory, from: uniqueName, eager: !!eager };\n\t};\n\tvar initExternal = (id) => {\n\t\tvar handleError = (err) => (warn(\"Initialization of sharing external failed: \" + err));\n\t\ttry {\n\t\t\tvar module = __webpack_require__(id);\n\t\t\tif(!module) return;\n\t\t\tvar initFn = (module) => (module && module.init && module.init(__webpack_require__.S[name], initScope))\n\t\t\tif(module.then) return promises.push(module.then(initFn, handleError));\n\t\t\tvar initResult = initFn(module);\n\t\t\tif(initResult && initResult.then) return promises.push(initResult['catch'](handleError));\n\t\t} catch(err) { handleError(err); }\n\t}\n\tvar promises = [];\n\tswitch(name) {\n\t}\n\tif(!promises.length) return initPromises[name] = 1;\n\treturn initPromises[name] = Promise.all(promises).then(() => (initPromises[name] = 1));\n};","var parseVersion = (str) => {\n\t// see webpack/lib/util/semver.js for original code\n\tvar p=p=>{return p.split(\".\").map(p=>{return+p==p?+p:p})},n=/^([^-+]+)?(?:-([^+]+))?(?:\\+(.+))?$/.exec(str),r=n[1]?p(n[1]):[];return n[2]&&(r.length++,r.push.apply(r,p(n[2]))),n[3]&&(r.push([]),r.push.apply(r,p(n[3]))),r;\n}\nvar versionLt = (a, b) => {\n\t// see webpack/lib/util/semver.js for original code\n\ta=parseVersion(a),b=parseVersion(b);for(var r=0;;){if(r>=a.length)return r<b.length&&\"u\"!=(typeof b[r])[0];var e=a[r],n=(typeof e)[0];if(r>=b.length)return\"u\"==n;var t=b[r],f=(typeof t)[0];if(n!=f)return\"o\"==n&&\"n\"==f||(\"s\"==f||\"u\"==n);if(\"o\"!=n&&\"u\"!=n&&e!=t)return e<t;r++}\n}\nvar rangeToString = (range) => {\n\t// see webpack/lib/util/semver.js for original code\n\tvar r=range[0],n=\"\";if(1===range.length)return\"*\";if(r+.5){n+=0==r?\">=\":-1==r?\"<\":1==r?\"^\":2==r?\"~\":r>0?\"=\":\"!=\";for(var e=1,a=1;a<range.length;a++){e--,n+=\"u\"==(typeof(t=range[a]))[0]?\"-\":(e>0?\".\":\"\")+(e=2,t)}return n}var g=[];for(a=1;a<range.length;a++){var t=range[a];g.push(0===t?\"not(\"+o()+\")\":1===t?\"(\"+o()+\" || \"+o()+\")\":2===t?g.pop()+\" \"+g.pop():rangeToString(t))}return o();function o(){return g.pop().replace(/^\\((.+)\\)$/,\"$1\")}\n}\nvar satisfy = (range, version) => {\n\t// see webpack/lib/util/semver.js for original code\n\tif(0 in range){version=parseVersion(version);var e=range[0],r=e<0;r&&(e=-e-1);for(var n=0,i=1,a=!0;;i++,n++){var f,s,g=i<range.length?(typeof range[i])[0]:\"\";if(n>=version.length||\"o\"==(s=(typeof(f=version[n]))[0]))return!a||(\"u\"==g?i>e&&!r:\"\"==g!=r);if(\"u\"==s){if(!a||\"u\"!=g)return!1}else if(a)if(g==s)if(i<=e){if(f!=range[i])return!1}else{if(r?f>range[i]:f<range[i])return!1;f!=range[i]&&(a=!1)}else if(\"s\"!=g&&\"n\"!=g){if(r||i<=e)return!1;a=!1,i--}else{if(i<=e||s<g!=r)return!1;a=!1}else\"s\"!=g&&\"n\"!=g&&(a=!1,i--)}}var t=[],o=t.pop.bind(t);for(n=1;n<range.length;n++){var u=range[n];t.push(1==u?o()|o():2==u?o()&o():u?satisfy(u,version):!o())}return!!o();\n}\nvar exists = (scope, key) => {\n\treturn scope && __webpack_require__.o(scope, key);\n}\nvar get = (entry) => {\n\tentry.loaded = 1;\n\treturn entry.get()\n};\nvar eagerOnly = (versions) => {\n\treturn Object.keys(versions).reduce((filtered, version) => {\n\t\t\tif (versions[version].eager) {\n\t\t\t\tfiltered[version] = versions[version];\n\t\t\t}\n\t\t\treturn filtered;\n\t}, {});\n};\nvar findLatestVersion = (scope, key, eager) => {\n\tvar versions = eager ? eagerOnly(scope[key]) : scope[key];\n\tvar key = Object.keys(versions).reduce((a, b) => {\n\t\treturn !a || versionLt(a, b) ? b : a;\n\t}, 0);\n\treturn key && versions[key];\n};\nvar findSatisfyingVersion = (scope, key, requiredVersion, eager) => {\n\tvar versions = eager ? eagerOnly(scope[key]) : scope[key];\n\tvar key = Object.keys(versions).reduce((a, b) => {\n\t\tif (!satisfy(requiredVersion, b)) return a;\n\t\treturn !a || versionLt(a, b) ? b : a;\n\t}, 0);\n\treturn key && versions[key]\n};\nvar findSingletonVersionKey = (scope, key, eager) => {\n\tvar versions = eager ? eagerOnly(scope[key]) : scope[key];\n\treturn Object.keys(versions).reduce((a, b) => {\n\t\treturn !a || (!versions[a].loaded && versionLt(a, b)) ? b : a;\n\t}, 0);\n};\nvar getInvalidSingletonVersionMessage = (scope, key, version, requiredVersion) => {\n\treturn \"Unsatisfied version \" + version + \" from \" + (version && scope[key][version].from) + \" of shared singleton module \" + key + \" (required \" + rangeToString(requiredVersion) + \")\"\n};\nvar getInvalidVersionMessage = (scope, scopeName, key, requiredVersion, eager) => {\n\tvar versions = scope[key];\n\treturn \"No satisfying version (\" + rangeToString(requiredVersion) + \")\" + (eager ? \" for eager consumption\" : \"\") + \" of shared module \" + key + \" found in shared scope \" + scopeName + \".\\n\" +\n\t\t\"Available versions: \" + Object.keys(versions).map((key) => {\n\t\treturn key + \" from \" + versions[key].from;\n\t}).join(\", \");\n};\nvar fail = (msg) => {\n\tthrow new Error(msg);\n}\nvar failAsNotExist = (scopeName, key) => {\n\treturn fail(\"Shared module \" + key + \" doesn't exist in shared scope \" + scopeName);\n}\nvar warn = /*#__PURE__*/ (msg) => {\n\tif (typeof console !== \"undefined\" && console.warn) console.warn(msg);\n};\nvar init = (fn) => (function(scopeName, key, eager, c, d) {\n\tvar promise = __webpack_require__.I(scopeName);\n\tif (promise && promise.then && !eager) {\n\t\treturn promise.then(fn.bind(fn, scopeName, __webpack_require__.S[scopeName], key, false, c, d));\n\t}\n\treturn fn(scopeName, __webpack_require__.S[scopeName], key, eager, c, d);\n});\n\nvar useFallback = (scopeName, key, fallback) => {\n\treturn fallback ? fallback() : failAsNotExist(scopeName, key);\n}\nvar load = /*#__PURE__*/ init((scopeName, scope, key, eager, fallback) => {\n\tif (!exists(scope, key)) return useFallback(scopeName, key, fallback);\n\treturn get(findLatestVersion(scope, key, eager));\n});\nvar loadVersion = /*#__PURE__*/ init((scopeName, scope, key, eager, requiredVersion, fallback) => {\n\tif (!exists(scope, key)) return useFallback(scopeName, key, fallback);\n\tvar satisfyingVersion = findSatisfyingVersion(scope, key, requiredVersion, eager);\n\tif (satisfyingVersion) return get(satisfyingVersion);\n\twarn(getInvalidVersionMessage(scope, scopeName, key, requiredVersion, eager))\n\treturn get(findLatestVersion(scope, key, eager));\n});\nvar loadStrictVersion = /*#__PURE__*/ init((scopeName, scope, key, eager, requiredVersion, fallback) => {\n\tif (!exists(scope, key)) return useFallback(scopeName, key, fallback);\n\tvar satisfyingVersion = findSatisfyingVersion(scope, key, requiredVersion, eager);\n\tif (satisfyingVersion) return get(satisfyingVersion);\n\tif (fallback) return fallback();\n\tfail(getInvalidVersionMessage(scope, scopeName, key, requiredVersion, eager));\n});\nvar loadSingleton = /*#__PURE__*/ init((scopeName, scope, key, eager, fallback) => {\n\tif (!exists(scope, key)) return useFallback(scopeName, key, fallback);\n\tvar version = findSingletonVersionKey(scope, key, eager);\n\treturn get(scope[key][version]);\n});\nvar loadSingletonVersion = /*#__PURE__*/ init((scopeName, scope, key, eager, requiredVersion, fallback) => {\n\tif (!exists(scope, key)) return useFallback(scopeName, key, fallback);\n\tvar version = findSingletonVersionKey(scope, key, eager);\n\tif (!satisfy(requiredVersion, version)) {\n\t\twarn(getInvalidSingletonVersionMessage(scope, key, version, requiredVersion));\n\t}\n\treturn get(scope[key][version]);\n});\nvar loadStrictSingletonVersion = /*#__PURE__*/ init((scopeName, scope, key, eager, requiredVersion, fallback) => {\n\tif (!exists(scope, key)) return useFallback(scopeName, key, fallback);\n\tvar version = findSingletonVersionKey(scope, key, eager);\n\tif (!satisfy(requiredVersion, version)) {\n\t\tfail(getInvalidSingletonVersionMessage(scope, key, version, requiredVersion));\n\t}\n\treturn get(scope[key][version]);\n});\nvar installedModules = {};\nvar moduleToHandlerMapping = {\n\t27: () => (load(\"default\", \"react\", false)),\n\t860: () => (loadVersion(\"default\", \"react\", false, [1,18,2,0])),\n\t968: () => (loadVersion(\"default\", \"antd\", false, [1,5,24,2])),\n\t68: () => (loadVersion(\"default\", \"@clusterio/web_ui\", false, [7,2,0,0,,\"alpha\",\"22b\"]))\n};\nvar initialConsumes = [27,860,968,68];\ninitialConsumes.forEach((id) => {\n\t__webpack_require__.m[id] = (module) => {\n\t\t// Handle case when module is used sync\n\t\tinstalledModules[id] = 0;\n\t\tdelete __webpack_require__.c[id];\n\t\tvar factory = moduleToHandlerMapping[id]();\n\t\tif(typeof factory !== \"function\") throw new Error(\"Shared module is not available for eager consumption: \" + id);\n\t\tmodule.exports = factory();\n\t}\n});\n// no chunk loading of consumes","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.surface-export-tab-body {\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 1fr;\r\n\tgap: 16px;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n\t.surface-export-tab-body {\r\n\t\tgrid-template-columns: 1.2fr 0.8fr;\r\n\t\talign-items: start;\r\n\t}\r\n}\r\n\r\n.surface-export-tree-panel,\r\n.surface-export-action-panel {\r\n\tmin-width: 0;\r\n}\r\n\r\n.surface-export-log-body {\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 1fr;\r\n\tgap: 16px;\r\n}\r\n\r\n.surface-export-log-row {\r\n\tcursor: pointer;\r\n}\r\n\r\n.surface-export-log-row-selected > td {\r\n\tbackground: rgba(24, 144, 255, 0.12) !important;\r\n}\r\n`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (i) {\n  return i[1];\n};","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","\"use strict\";\r\n\r\nconst PLUGIN_NAME = \"surface_export\";\r\nconst PERMISSIONS = {\r\n\tLIST_EXPORTS: `${PLUGIN_NAME}.exports.list`,\r\n\tTRANSFER_EXPORTS: `${PLUGIN_NAME}.exports.transfer`,\r\n\tUI_VIEW: `${PLUGIN_NAME}.ui.view`,\r\n\tVIEW_LOGS: `${PLUGIN_NAME}.logs.view`,\r\n};\r\n\r\nclass ExportPlatformRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = [\"controller\", \"instance\"];\r\n\tstatic dst = \"instance\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tplatformIndex: { type: \"integer\" },\r\n\t\t\tforceName: { type: \"string\", default: \"player\" },\r\n\t\t},\r\n\t\trequired: [\"platformIndex\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.platformIndex = json.platformIndex;\r\n\t\tthis.forceName = json.forceName || \"player\";\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new ExportPlatformRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\tplatformIndex: this.platformIndex,\r\n\t\t\tforceName: this.forceName,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tsuccess: { type: \"boolean\" },\r\n\t\t\t\texportId: { type: \"string\" },\r\n\t\t\t\terror: { type: \"string\" },\r\n\t\t\t},\r\n\t\t\trequired: [\"success\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\nclass GetPlatformTreeRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = \"control\";\r\n\tstatic dst = \"controller\";\r\n\tstatic permission = PERMISSIONS.UI_VIEW;\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tforceName: { type: \"string\", default: \"player\" },\r\n\t\t},\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json = {}) {\r\n\t\tthis.forceName = json.forceName || \"player\";\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new GetPlatformTreeRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\tforceName: this.forceName,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\trevision: { type: \"integer\" },\r\n\t\t\t\tgeneratedAt: { type: \"number\" },\r\n\t\t\t\tforceName: { type: \"string\" },\r\n\t\t\t\thosts: { type: \"array\", items: { type: \"object\" } },\r\n\t\t\t\tunassignedInstances: { type: \"array\", items: { type: \"object\" } },\r\n\t\t\t},\r\n\t\t\trequired: [\"revision\", \"generatedAt\", \"forceName\", \"hosts\", \"unassignedInstances\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\n\r\nclass ListTransactionLogsRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = \"control\";\r\n\tstatic dst = \"controller\";\r\n\tstatic permission = PERMISSIONS.VIEW_LOGS;\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tlimit: { type: \"integer\", minimum: 1, maximum: 500, default: 50 },\r\n\t\t},\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json = {}) {\r\n\t\tthis.limit = json.limit || 50;\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new ListTransactionLogsRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\tlimit: this.limit,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"array\",\r\n\t\t\titems: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\ttransferId: { type: \"string\" },\r\n\t\t\t\t\tplatformName: { type: \"string\" },\r\n\t\t\t\t\tsourceInstanceId: { type: \"integer\" },\r\n\t\t\t\t\tsourceInstanceName: { type: [\"string\", \"null\"] },\r\n\t\t\t\t\ttargetInstanceId: { type: \"integer\" },\r\n\t\t\t\t\ttargetInstanceName: { type: [\"string\", \"null\"] },\r\n\t\t\t\t\tstatus: { type: \"string\" },\r\n\t\t\t\t\tstartedAt: { type: \"number\" },\r\n\t\t\t\t\tcompletedAt: { type: [\"number\", \"null\"] },\r\n\t\t\t\t\tfailedAt: { type: [\"number\", \"null\"] },\r\n\t\t\t\t\terror: { type: [\"string\", \"null\"] },\r\n\t\t\t\t\tlastEventAt: { type: [\"number\", \"null\"] },\r\n\t\t\t\t},\r\n\t\t\t\trequired: [\r\n\t\t\t\t\t\"transferId\",\r\n\t\t\t\t\t\"platformName\",\r\n\t\t\t\t\t\"sourceInstanceId\",\r\n\t\t\t\t\t\"sourceInstanceName\",\r\n\t\t\t\t\t\"targetInstanceId\",\r\n\t\t\t\t\t\"targetInstanceName\",\r\n\t\t\t\t\t\"status\",\r\n\t\t\t\t\t\"startedAt\",\r\n\t\t\t\t\t\"completedAt\",\r\n\t\t\t\t\t\"failedAt\",\r\n\t\t\t\t\t\"error\",\r\n\t\t\t\t\t\"lastEventAt\",\r\n\t\t\t\t],\r\n\t\t\t\tadditionalProperties: false,\r\n\t\t\t},\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\nclass SetSurfaceExportSubscriptionRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = \"control\";\r\n\tstatic dst = \"controller\";\r\n\tstatic permission = PERMISSIONS.UI_VIEW;\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\ttree: { type: \"boolean\", default: false },\r\n\t\t\ttransfers: { type: \"boolean\", default: false },\r\n\t\t\tlogs: { type: \"boolean\", default: false },\r\n\t\t\ttransferId: { type: [\"string\", \"null\"], default: null },\r\n\t\t},\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json = {}) {\r\n\t\tthis.tree = json.tree || false;\r\n\t\tthis.transfers = json.transfers || false;\r\n\t\tthis.logs = json.logs || false;\r\n\t\tthis.transferId = json.transferId || null;\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new SetSurfaceExportSubscriptionRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\ttree: this.tree,\r\n\t\t\ttransfers: this.transfers,\r\n\t\t\tlogs: this.logs,\r\n\t\t\ttransferId: this.transferId,\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass SurfaceExportTreeUpdateEvent {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"event\";\r\n\tstatic src = \"controller\";\r\n\tstatic dst = \"control\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\trevision: { type: \"integer\" },\r\n\t\t\tgeneratedAt: { type: \"number\" },\r\n\t\t\tforceName: { type: \"string\" },\r\n\t\t\ttree: { type: \"object\" },\r\n\t\t},\r\n\t\trequired: [\"revision\", \"generatedAt\", \"forceName\", \"tree\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.revision = json.revision;\r\n\t\tthis.generatedAt = json.generatedAt;\r\n\t\tthis.forceName = json.forceName;\r\n\t\tthis.tree = json.tree;\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new SurfaceExportTreeUpdateEvent(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\trevision: this.revision,\r\n\t\t\tgeneratedAt: this.generatedAt,\r\n\t\t\tforceName: this.forceName,\r\n\t\t\ttree: this.tree,\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass SurfaceExportTransferUpdateEvent {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"event\";\r\n\tstatic src = \"controller\";\r\n\tstatic dst = \"control\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\trevision: { type: \"integer\" },\r\n\t\t\tgeneratedAt: { type: \"number\" },\r\n\t\t\ttransfer: { type: \"object\" },\r\n\t\t},\r\n\t\trequired: [\"revision\", \"generatedAt\", \"transfer\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.revision = json.revision;\r\n\t\tthis.generatedAt = json.generatedAt;\r\n\t\tthis.transfer = json.transfer;\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new SurfaceExportTransferUpdateEvent(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\trevision: this.revision,\r\n\t\t\tgeneratedAt: this.generatedAt,\r\n\t\t\ttransfer: this.transfer,\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass SurfaceExportLogUpdateEvent {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"event\";\r\n\tstatic src = \"controller\";\r\n\tstatic dst = \"control\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\trevision: { type: \"integer\" },\r\n\t\t\tgeneratedAt: { type: \"number\" },\r\n\t\t\ttransferId: { type: \"string\" },\r\n\t\t\tevent: { type: \"object\" },\r\n\t\t\ttransferInfo: { type: [\"object\", \"null\"] },\r\n\t\t\tsummary: { type: [\"object\", \"null\"] },\r\n\t\t},\r\n\t\trequired: [\"revision\", \"generatedAt\", \"transferId\", \"event\", \"transferInfo\", \"summary\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.revision = json.revision;\r\n\t\tthis.generatedAt = json.generatedAt;\r\n\t\tthis.transferId = json.transferId;\r\n\t\tthis.event = json.event;\r\n\t\tthis.transferInfo = json.transferInfo;\r\n\t\tthis.summary = json.summary;\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new SurfaceExportLogUpdateEvent(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\trevision: this.revision,\r\n\t\t\tgeneratedAt: this.generatedAt,\r\n\t\t\ttransferId: this.transferId,\r\n\t\t\tevent: this.event,\r\n\t\t\ttransferInfo: this.transferInfo,\r\n\t\t\tsummary: this.summary,\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass PlatformExportEvent {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"event\";\r\n\tstatic src = \"instance\";\r\n\tstatic dst = \"controller\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\texportId: { type: \"string\" },\r\n\t\t\tplatformName: { type: \"string\" },\r\n\t\t\tinstanceId: { type: \"integer\" },\r\n\t\t\texportData: { type: \"object\" },\r\n\t\t\ttimestamp: { type: \"number\" },\r\n\t\t},\r\n\t\trequired: [\"exportId\", \"platformName\", \"instanceId\", \"exportData\", \"timestamp\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.exportId = json.exportId;\r\n\t\tthis.platformName = json.platformName;\r\n\t\tthis.instanceId = json.instanceId;\r\n\t\tthis.exportData = json.exportData;\r\n\t\tthis.timestamp = json.timestamp;\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new PlatformExportEvent(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\texportId: this.exportId,\r\n\t\t\tplatformName: this.platformName,\r\n\t\t\tinstanceId: this.instanceId,\r\n\t\t\texportData: this.exportData,\r\n\t\t\ttimestamp: this.timestamp,\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass ImportPlatformRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = [\"controller\", \"instance\"];\r\n\tstatic dst = \"instance\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\texportId: { type: \"string\" },\r\n\t\t\texportData: { type: \"object\" },\r\n\t\t\tforceName: { type: \"string\", default: \"player\" },\r\n\t\t},\r\n\t\trequired: [\"exportId\", \"exportData\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.exportId = json.exportId;\r\n\t\tthis.exportData = json.exportData;\r\n\t\tthis.forceName = json.forceName || \"player\";\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new ImportPlatformRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\texportId: this.exportId,\r\n\t\t\texportData: this.exportData,\r\n\t\t\tforceName: this.forceName,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tsuccess: { type: \"boolean\" },\r\n\t\t\t\terror: { type: \"string\" },\r\n\t\t\t},\r\n\t\t\trequired: [\"success\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\n\r\nclass ListExportsRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = \"control\";\r\n\tstatic dst = \"controller\";\r\n\tstatic permission = PERMISSIONS.LIST_EXPORTS;\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {},\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor() {}\r\n\r\n\tstatic fromJSON() {\r\n\t\treturn new ListExportsRequest();\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"array\",\r\n\t\t\titems: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\texportId: { type: \"string\" },\r\n\t\t\t\t\tplatformName: { type: \"string\" },\r\n\t\t\t\t\tinstanceId: { type: \"integer\" },\r\n\t\t\t\t\ttimestamp: { type: \"number\" },\r\n\t\t\t\t\tsize: { type: \"integer\" },\r\n\t\t\t\t},\r\n\t\t\t\trequired: [\"exportId\", \"platformName\", \"instanceId\", \"timestamp\", \"size\"],\r\n\t\t\t\tadditionalProperties: false,\r\n\t\t\t},\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\n\r\nclass TransferPlatformRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = [\"control\", \"instance\"];  // Allow both CLI and instance plugins\r\n\tstatic dst = \"controller\";\r\n\tstatic permission = PERMISSIONS.TRANSFER_EXPORTS;\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\texportId: { type: \"string\" },\r\n\t\t\ttargetInstanceId: { type: \"integer\" },\r\n\t\t},\r\n\t\trequired: [\"exportId\", \"targetInstanceId\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.exportId = json.exportId;\r\n\t\tthis.targetInstanceId = json.targetInstanceId;\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new TransferPlatformRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\texportId: this.exportId,\r\n\t\t\ttargetInstanceId: this.targetInstanceId,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tsuccess: { type: \"boolean\" },\r\n\t\t\t\terror: { type: \"string\" },\r\n\t\t\t\ttransferId: { type: \"string\" },\r\n\t\t\t\tmessage: { type: \"string\" },\r\n\t\t\t},\r\n\t\t\trequired: [\"success\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\nclass StartPlatformTransferRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = \"control\";\r\n\tstatic dst = \"controller\";\r\n\tstatic permission = PERMISSIONS.TRANSFER_EXPORTS;\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tsourceInstanceId: { type: \"integer\" },\r\n\t\t\tsourcePlatformIndex: { type: \"integer\" },\r\n\t\t\ttargetInstanceId: { type: \"integer\" },\r\n\t\t\tforceName: { type: \"string\", default: \"player\" },\r\n\t\t},\r\n\t\trequired: [\"sourceInstanceId\", \"sourcePlatformIndex\", \"targetInstanceId\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.sourceInstanceId = json.sourceInstanceId;\r\n\t\tthis.sourcePlatformIndex = json.sourcePlatformIndex;\r\n\t\tthis.targetInstanceId = json.targetInstanceId;\r\n\t\tthis.forceName = json.forceName || \"player\";\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new StartPlatformTransferRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\tsourceInstanceId: this.sourceInstanceId,\r\n\t\t\tsourcePlatformIndex: this.sourcePlatformIndex,\r\n\t\t\ttargetInstanceId: this.targetInstanceId,\r\n\t\t\tforceName: this.forceName,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tsuccess: { type: \"boolean\" },\r\n\t\t\t\terror: { type: \"string\" },\r\n\t\t\t\ttransferId: { type: \"string\" },\r\n\t\t\t\texportId: { type: \"string\" },\r\n\t\t\t\tmessage: { type: \"string\" },\r\n\t\t\t},\r\n\t\t\trequired: [\"success\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\n\r\nclass InstanceListPlatformsRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = \"controller\";\r\n\tstatic dst = \"instance\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tforceName: { type: \"string\", default: \"player\" },\r\n\t\t},\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json = {}) {\r\n\t\tthis.forceName = json.forceName || \"player\";\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new InstanceListPlatformsRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\tforceName: this.forceName,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tinstanceId: { type: \"integer\" },\r\n\t\t\t\tinstanceName: { type: \"string\" },\r\n\t\t\t\tforceName: { type: \"string\" },\r\n\t\t\t\tplatforms: {\r\n\t\t\t\t\ttype: \"array\",\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\ttype: \"object\",\r\n\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\tplatformIndex: { type: \"integer\" },\r\n\t\t\t\t\t\t\tplatformName: { type: \"string\" },\r\n\t\t\t\t\t\t\tforceName: { type: \"string\" },\r\n\t\t\t\t\t\t\tsurfaceIndex: { type: [\"integer\", \"null\"] },\r\n\t\t\t\t\t\t\tsurfaceName: { type: [\"string\", \"null\"] },\r\n\t\t\t\t\t\t\tentityCount: { type: \"integer\" },\r\n\t\t\t\t\t\t\tisLocked: { type: \"boolean\" },\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\trequired: [\r\n\t\t\t\t\t\t\t\"platformIndex\",\r\n\t\t\t\t\t\t\t\"platformName\",\r\n\t\t\t\t\t\t\t\"forceName\",\r\n\t\t\t\t\t\t\t\"surfaceIndex\",\r\n\t\t\t\t\t\t\t\"surfaceName\",\r\n\t\t\t\t\t\t\t\"entityCount\",\r\n\t\t\t\t\t\t\t\"isLocked\",\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tadditionalProperties: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\trequired: [\"instanceId\", \"instanceName\", \"forceName\", \"platforms\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\n\r\nclass ImportPlatformFromFileRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = [\"controller\", \"instance\"];\r\n\tstatic dst = \"instance\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tfilename: { type: \"string\" },\r\n\t\t\tplatformName: { type: [\"string\", \"null\"], default: null },\r\n\t\t\tforceName: { type: \"string\", default: \"player\" },\r\n\t\t},\r\n\t\trequired: [\"filename\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.filename = json.filename;\r\n\t\tthis.platformName = json.platformName ?? null;\r\n\t\tthis.forceName = json.forceName || \"player\";\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new ImportPlatformFromFileRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\tfilename: this.filename,\r\n\t\t\tplatformName: this.platformName,\r\n\t\t\tforceName: this.forceName,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tsuccess: { type: \"boolean\" },\r\n\t\t\t\terror: { type: \"string\" },\r\n\t\t\t},\r\n\t\t\trequired: [\"success\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\n\r\nclass TransferValidationEvent {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"event\";\r\n\tstatic src = \"instance\";\r\n\tstatic dst = \"controller\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\ttransferId: { type: \"string\" },\r\n\t\t\tplatformName: { type: \"string\" },\r\n\t\t\tsourceInstanceId: { type: \"integer\" },\r\n\t\t\tsuccess: { type: \"boolean\" },\r\n\t\t\tvalidation: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\titemCountMatch: { type: \"boolean\" },\r\n\t\t\t\t\tfluidCountMatch: { type: \"boolean\" },\r\n\t\t\t\t\tentityCount: { type: \"integer\" },\r\n\t\t\t\t\tmismatchDetails: { type: \"string\" },\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmetrics: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\tdescription: \"Detailed phase metrics from Lua import\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\t// Phase timing in game ticks\r\n\t\t\t\t\ttiles_ticks: { type: \"integer\" },\r\n\t\t\t\t\tentities_ticks: { type: \"integer\" },\r\n\t\t\t\t\tfluids_ticks: { type: \"integer\" },\r\n\t\t\t\t\tbelts_ticks: { type: \"integer\" },\r\n\t\t\t\t\tstate_ticks: { type: \"integer\" },\r\n\t\t\t\t\tvalidation_ticks: { type: \"integer\" },\r\n\t\t\t\t\ttotal_ticks: { type: \"integer\" },\r\n\t\t\t\t\t// Counts\r\n\t\t\t\t\ttiles_placed: { type: \"integer\" },\r\n\t\t\t\t\tentities_created: { type: \"integer\" },\r\n\t\t\t\t\tentities_failed: { type: \"integer\" },\r\n\t\t\t\t\tfluids_restored: { type: \"integer\" },\r\n\t\t\t\t\tbelt_items_restored: { type: \"integer\" },\r\n\t\t\t\t\tcircuits_connected: { type: \"integer\" },\r\n\t\t\t\t\ttotal_items: { type: \"integer\" },\r\n\t\t\t\t\ttotal_fluids: { type: \"integer\" },\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\trequired: [\"transferId\", \"platformName\", \"sourceInstanceId\", \"success\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.transferId = json.transferId;\r\n\t\tthis.platformName = json.platformName;\r\n\t\tthis.sourceInstanceId = json.sourceInstanceId;\r\n\t\tthis.success = json.success;\r\n\t\tthis.validation = json.validation;\r\n\t\tthis.metrics = json.metrics;\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new TransferValidationEvent(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\ttransferId: this.transferId,\r\n\t\t\tplatformName: this.platformName,\r\n\t\t\tsourceInstanceId: this.sourceInstanceId,\r\n\t\t\tsuccess: this.success,\r\n\t\t\tvalidation: this.validation,\r\n\t\t\tmetrics: this.metrics,\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass DeleteSourcePlatformRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = \"controller\";\r\n\tstatic dst = \"instance\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tplatformIndex: { type: \"integer\" },\r\n\t\t\tplatformName: { type: \"string\" },\r\n\t\t\tforceName: { type: \"string\", default: \"player\" },\r\n\t\t},\r\n\t\trequired: [\"platformIndex\", \"platformName\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.platformIndex = json.platformIndex;\r\n\t\tthis.platformName = json.platformName;\r\n\t\tthis.forceName = json.forceName || \"player\";\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new DeleteSourcePlatformRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\tplatformIndex: this.platformIndex,\r\n\t\t\tplatformName: this.platformName,\r\n\t\t\tforceName: this.forceName,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tsuccess: { type: \"boolean\" },\r\n\t\t\t\terror: { type: \"string\" },\r\n\t\t\t},\r\n\t\t\trequired: [\"success\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\n\r\nclass UnlockSourcePlatformRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = \"controller\";\r\n\tstatic dst = \"instance\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tplatformName: { type: \"string\" },\r\n\t\t\tforceName: { type: \"string\", default: \"player\" },\r\n\t\t},\r\n\t\trequired: [\"platformName\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.platformName = json.platformName;\r\n\t\tthis.forceName = json.forceName || \"player\";\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new UnlockSourcePlatformRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\tplatformName: this.platformName,\r\n\t\t\tforceName: this.forceName,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tsuccess: { type: \"boolean\" },\r\n\t\t\t\terror: { type: \"string\" },\r\n\t\t\t},\r\n\t\t\trequired: [\"success\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\n\r\nclass TransferStatusUpdate {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = \"controller\";\r\n\tstatic dst = \"instance\";\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\ttransferId: { type: \"string\" },\r\n\t\t\tplatformName: { type: \"string\" },\r\n\t\t\tmessage: { type: \"string\" },\r\n\t\t\tcolor: { type: [\"string\", \"null\"] },\r\n\t\t},\r\n\t\trequired: [\"transferId\", \"platformName\", \"message\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.transferId = json.transferId;\r\n\t\tthis.platformName = json.platformName;\r\n\t\tthis.message = json.message;\r\n\t\tthis.color = json.color || null;\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new TransferStatusUpdate(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\ttransferId: this.transferId,\r\n\t\t\tplatformName: this.platformName,\r\n\t\t\tmessage: this.message,\r\n\t\t\tcolor: this.color,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tsuccess: { type: \"boolean\" },\r\n\t\t\t\terror: { type: \"string\" },\r\n\t\t\t},\r\n\t\t\trequired: [\"success\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\n\r\nclass GetTransactionLogRequest {\r\n\tstatic plugin = PLUGIN_NAME;\r\n\tstatic type = \"request\";\r\n\tstatic src = [\"controller\", \"instance\", \"control\"];\r\n\tstatic dst = \"controller\";\r\n\tstatic permission = PERMISSIONS.VIEW_LOGS;\r\n\tstatic jsonSchema = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\ttransferId: { type: \"string\" },\r\n\t\t},\r\n\t\trequired: [\"transferId\"],\r\n\t\tadditionalProperties: false,\r\n\t};\r\n\r\n\tconstructor(json) {\r\n\t\tthis.transferId = json.transferId;\r\n\t}\r\n\r\n\tstatic fromJSON(json) {\r\n\t\treturn new GetTransactionLogRequest(json);\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn {\r\n\t\t\ttransferId: this.transferId,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic Response = {\r\n\t\tjsonSchema: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tsuccess: { type: \"boolean\" },\r\n\t\t\t\ttransferId: { type: \"string\" },\r\n\t\t\t\tevents: { type: \"array\" },\r\n\t\t\t\ttransferInfo: { type: [\"object\", \"null\"] },\r\n\t\t\t\tsummary: { type: [\"object\", \"null\"] },\r\n\t\t\t\terror: { type: \"string\" },\r\n\t\t\t},\r\n\t\t\trequired: [\"success\"],\r\n\t\t\tadditionalProperties: false,\r\n\t\t},\r\n\t\tfromJSON(json) {\r\n\t\t\treturn json;\r\n\t\t},\r\n\t};\r\n}\r\n\r\nmodule.exports = {\r\n\tExportPlatformRequest,\r\n\tPlatformExportEvent,\r\n\tImportPlatformRequest,\r\n\tImportPlatformFromFileRequest,\r\n\tListExportsRequest,\r\n\tTransferPlatformRequest,\r\n\tStartPlatformTransferRequest,\r\n\tInstanceListPlatformsRequest,\r\n\tTransferValidationEvent,\r\n\tDeleteSourcePlatformRequest,\r\n\tUnlockSourcePlatformRequest,\r\n\tTransferStatusUpdate,\r\n\tGetPlatformTreeRequest,\r\n\tListTransactionLogsRequest,\r\n\tGetTransactionLogRequest,\r\n\tSetSurfaceExportSubscriptionRequest,\r\n\tSurfaceExportTreeUpdateEvent,\r\n\tSurfaceExportTransferUpdateEvent,\r\n\tSurfaceExportLogUpdateEvent,\r\n\tPERMISSIONS,\r\n};\r\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./style.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./style.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useContext, useEffect, useMemo, useState } from \"react\";\r\nimport {\r\n\tAlert,\r\n\tButton,\r\n\tCard,\r\n\tEmpty,\r\n\tSelect,\r\n\tSpace,\r\n\tSpin,\r\n\tTable,\r\n\tTag,\r\n\tTabs,\r\n\tTimeline,\r\n\tTypography,\r\n\tmessage as antMessage,\r\n} from \"antd\";\r\n\r\nimport {\r\n\tBaseWebPlugin,\r\n\tControlContext,\r\n\tPageHeader,\r\n\tPageLayout,\r\n\tnotifyErrorHandler,\r\n} from \"@clusterio/web_ui\";\r\nimport * as messageDefs from \"../messages\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst {\r\n\tPERMISSIONS,\r\n\tGetPlatformTreeRequest,\r\n\tListTransactionLogsRequest,\r\n\tGetTransactionLogRequest,\r\n\tStartPlatformTransferRequest,\r\n\tSetSurfaceExportSubscriptionRequest,\r\n\tSurfaceExportTreeUpdateEvent,\r\n\tSurfaceExportTransferUpdateEvent,\r\n\tSurfaceExportLogUpdateEvent,\r\n} = messageDefs;\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction statusColor(status) {\r\n\tswitch (status) {\r\n\tcase \"transporting\":\r\n\t\treturn \"processing\";\r\n\tcase \"awaiting_validation\":\r\n\t\treturn \"gold\";\r\n\tcase \"completed\":\r\n\t\treturn \"success\";\r\n\tcase \"failed\":\r\n\tcase \"error\":\r\n\tcase \"cleanup_failed\":\r\n\t\treturn \"error\";\r\n\tdefault:\r\n\t\treturn \"default\";\r\n\t}\r\n}\r\n\r\nfunction summaryFromTransferInfo(transferInfo, lastEventAt = null) {\r\n\tif (!transferInfo) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn {\r\n\t\ttransferId: transferInfo.transferId || transferInfo.id || null,\r\n\t\tplatformName: transferInfo.platformName || \"Unknown\",\r\n\t\tsourceInstanceId: transferInfo.sourceInstanceId ?? -1,\r\n\t\tsourceInstanceName: transferInfo.sourceInstanceName ?? null,\r\n\t\ttargetInstanceId: transferInfo.targetInstanceId ?? -1,\r\n\t\ttargetInstanceName: transferInfo.targetInstanceName ?? null,\r\n\t\tstatus: transferInfo.status || \"unknown\",\r\n\t\tstartedAt: transferInfo.startedAt || Date.now(),\r\n\t\tcompletedAt: transferInfo.completedAt || null,\r\n\t\tfailedAt: transferInfo.failedAt || null,\r\n\t\terror: transferInfo.error || null,\r\n\t\tlastEventAt,\r\n\t};\r\n}\r\n\r\nfunction mergeTransferSummary(existing, incoming) {\r\n\tconst byId = new Map((existing || []).map(summary => [summary.transferId, summary]));\r\n\tif (incoming && incoming.transferId) {\r\n\t\tbyId.set(incoming.transferId, { ...byId.get(incoming.transferId), ...incoming });\r\n\t}\r\n\r\n\treturn Array.from(byId.values()).sort((a, b) => (b.startedAt || 0) - (a.startedAt || 0));\r\n}\r\n\r\nfunction useSurfaceExportPlugin(control) {\r\n\treturn control.plugins.get(\"surface_export\");\r\n}\r\n\r\nfunction useSurfaceExportState(plugin) {\r\n\tconst [state, setState] = useState(plugin.getState());\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction onUpdate() {\r\n\t\t\tsetState(plugin.getState());\r\n\t\t}\r\n\r\n\t\tplugin.onUpdate(onUpdate);\r\n\t\treturn () => plugin.offUpdate(onUpdate);\r\n\t}, [plugin]);\r\n\r\n\treturn state;\r\n}\r\n\r\nfunction ManualTransferTab({ plugin, state }) {\r\n\tconst [selectedPlatformKey, setSelectedPlatformKey] = useState(null);\r\n\tconst [selectedTargetInstance, setSelectedTargetInstance] = useState(null);\r\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n\tconst { tree, loadingTree, treeError } = state;\r\n\tconst platformLookup = useMemo(() => {\r\n\t\tconst lookup = new Map();\r\n\t\tif (!tree) {\r\n\t\t\treturn lookup;\r\n\t\t}\r\n\r\n\t\tconst addInstancePlatforms = instance => {\r\n\t\t\tfor (const platform of instance.platforms || []) {\r\n\t\t\t\tconst key = `platform:${instance.instanceId}:${platform.platformIndex}`;\r\n\t\t\t\tlookup.set(key, {\r\n\t\t\t\t\tinstanceId: instance.instanceId,\r\n\t\t\t\t\tinstanceName: instance.instanceName,\r\n\t\t\t\t\tforceName: platform.forceName || tree.forceName || \"player\",\r\n\t\t\t\t\t...platform,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfor (const host of tree.hosts || []) {\r\n\t\t\tfor (const instance of host.instances || []) {\r\n\t\t\t\taddInstancePlatforms(instance);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (const instance of tree.unassignedInstances || []) {\r\n\t\t\taddInstancePlatforms(instance);\r\n\t\t}\r\n\t\treturn lookup;\r\n\t}, [tree]);\r\n\r\n\tconst instanceListData = useMemo(() => {\r\n\t\tif (!tree) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tconst rows = [];\r\n\r\n\t\tfor (const host of tree.hosts || []) {\r\n\t\t\tconst sortedInstances = [...(host.instances || [])].sort((a, b) =>\r\n\t\t\t\ta.instanceName.localeCompare(b.instanceName)\r\n\t\t\t);\r\n\r\n\t\t\tfor (const instance of sortedInstances) {\r\n\t\t\t\tfor (const platform of instance.platforms || []) {\r\n\t\t\t\t\trows.push({\r\n\t\t\t\t\t\tkey: `platform:${instance.instanceId}:${platform.platformIndex}`,\r\n\t\t\t\t\t\thostName: host.hostName,\r\n\t\t\t\t\t\thostConnected: host.connected,\r\n\t\t\t\t\t\tinstanceId: instance.instanceId,\r\n\t\t\t\t\t\tinstanceName: instance.instanceName,\r\n\t\t\t\t\t\tinstanceConnected: instance.connected,\r\n\t\t\t\t\t\tinstancePlatformError: instance.platformError,\r\n\t\t\t\t\t\tplatform,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (tree.unassignedInstances?.length) {\r\n\t\t\tconst sortedUnassigned = [...tree.unassignedInstances].sort((a, b) =>\r\n\t\t\t\ta.instanceName.localeCompare(b.instanceName)\r\n\t\t\t);\r\n\r\n\t\t\tfor (const instance of sortedUnassigned) {\r\n\t\t\t\tfor (const platform of instance.platforms || []) {\r\n\t\t\t\t\trows.push({\r\n\t\t\t\t\t\tkey: `platform:${instance.instanceId}:${platform.platformIndex}`,\r\n\t\t\t\t\t\thostName: \"Unassigned\",\r\n\t\t\t\t\t\thostConnected: null,\r\n\t\t\t\t\t\tinstanceId: instance.instanceId,\r\n\t\t\t\t\t\tinstanceName: instance.instanceName,\r\n\t\t\t\t\t\tinstanceConnected: instance.connected,\r\n\t\t\t\t\t\tinstancePlatformError: instance.platformError,\r\n\t\t\t\t\t\tplatform,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn rows;\r\n\t}, [tree]);\r\n\r\n\tconst selectedSource = selectedPlatformKey ? platformLookup.get(selectedPlatformKey) : null;\r\n\r\n\tconst destinationOptions = useMemo(() => {\r\n\t\tif (!tree) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tconst instanceNodes = [];\r\n\t\tfor (const host of tree.hosts || []) {\r\n\t\t\tfor (const instance of host.instances || []) {\r\n\t\t\t\tinstanceNodes.push(instance);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (const instance of tree.unassignedInstances || []) {\r\n\t\t\tinstanceNodes.push(instance);\r\n\t\t}\r\n\r\n\t\treturn instanceNodes\r\n\t\t\t.filter(instance => instance.instanceId !== selectedSource?.instanceId)\r\n\t\t\t.map(instance => ({\r\n\t\t\t\tlabel: `${instance.instanceName} (${instance.instanceId})`,\r\n\t\t\t\tvalue: instance.instanceId,\r\n\t\t\t}));\r\n\t}, [tree, selectedSource]);\r\n\r\n\tasync function submitTransfer() {\r\n\t\tif (!selectedSource || selectedTargetInstance === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetIsSubmitting(true);\r\n\t\ttry {\r\n\t\t\tconst response = await plugin.startTransfer({\r\n\t\t\t\tsourceInstanceId: selectedSource.instanceId,\r\n\t\t\t\tsourcePlatformIndex: selectedSource.platformIndex,\r\n\t\t\t\ttargetInstanceId: Number(selectedTargetInstance),\r\n\t\t\t\tforceName: selectedSource.forceName || \"player\",\r\n\t\t\t});\r\n\t\t\tif (!response.success) {\r\n\t\t\t\tconst errorDetails = [\r\n\t\t\t\t\t`Error: ${response.error || \"Unknown error\"}`,\r\n\t\t\t\t\t`Source: Instance ${selectedSource.instanceId} (${selectedSource.instanceName})`,\r\n\t\t\t\t\t`Platform: ${selectedSource.platformName} (index ${selectedSource.platformIndex})`,\r\n\t\t\t\t\t`Target: Instance ${selectedTargetInstance}`,\r\n\t\t\t\t].join(\" | \");\r\n\t\t\t\tconsole.error(\"[Surface Export] Transfer failed:\", errorDetails);\r\n\t\t\t\tthrow new Error(response.error || \"Transfer start failed\");\r\n\t\t\t}\r\n\t\t\tconsole.info(`[Surface Export] Transfer started: ${response.transferId}`);\r\n\t\t\tantMessage.success(\r\n\t\t\t\t`Transfer started: ${response.transferId}`,\r\n\t\t\t\t5  // Show for 5 seconds\r\n\t\t\t);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(\"[Surface Export] Transfer submission error:\", err);\r\n\t\t\tantMessage.error(\r\n\t\t\t\terr.message || \"Failed to start transfer\",\r\n\t\t\t\t10  // Show error for 10 seconds\r\n\t\t\t);\r\n\t\t} finally {\r\n\t\t\tsetIsSubmitting(false);\r\n\t\t}\r\n\t}\r\n\r\n\tconst instanceColumns = [\r\n\t\t{\r\n\t\t\ttitle: \"Host\",\r\n\t\t\tdataIndex: \"hostName\",\r\n\t\t\tkey: \"hostName\",\r\n\t\t\twidth: \"15%\",\r\n\t\t\trender: (hostName, row) => (\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Text>{hostName}</Text>\r\n\t\t\t\t\t{row.hostConnected !== null ? (\r\n\t\t\t\t\t\t<Tag color={row.hostConnected ? \"green\" : \"default\"}>\r\n\t\t\t\t\t\t\t{row.hostConnected ? \"online\" : \"offline\"}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Instance\",\r\n\t\t\tdataIndex: \"instanceName\",\r\n\t\t\tkey: \"instanceName\",\r\n\t\t\twidth: \"25%\",\r\n\t\t\trender: (instanceName, row) => (\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Text>{instanceName}</Text>\r\n\t\t\t\t\t<Tag color={row.instanceConnected ? \"green\" : \"default\"}>\r\n\t\t\t\t\t\t{row.instanceConnected ? \"connected\" : \"disconnected\"}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t\t{row.instancePlatformError ? <Tag color=\"warning\">error</Tag> : null}\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Platform\",\r\n\t\t\tkey: \"platform\",\r\n\t\t\twidth: \"40%\",\r\n\t\t\trender: (_, row) => (\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Text>{row.platform.platformName}</Text>\r\n\t\t\t\t\t<Tag color={statusColor(row.platform.transferStatus)}>\r\n\t\t\t\t\t\t{row.platform.transferStatus || \"idle\"}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className=\"surface-export-tab-body\">\r\n\t\t\t<div className=\"surface-export-tree-panel\">\r\n\t\t\t\t<Card title=\"Available Platforms\">\r\n\t\t\t\t\t{loadingTree ? <Spin /> : null}\r\n\t\t\t\t\t{treeError ? <Alert type=\"error\" showIcon message={treeError} /> : null}\r\n\t\t\t\t\t{!loadingTree && !instanceListData.length ? <Empty description=\"No platforms found\" /> : null}\r\n\t\t\t\t\t{instanceListData.length ? (\r\n\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tcolumns={instanceColumns}\r\n\t\t\t\t\t\t\tdataSource={instanceListData}\r\n\t\t\t\t\t\t\trowKey={row => row.key}\r\n\t\t\t\t\t\t\tpagination={{ pageSize: 15 }}\r\n\t\t\t\t\t\t\trowClassName={row => row.key === selectedPlatformKey ? \"surface-export-log-row-selected\" : \"surface-export-log-row\"}\r\n\t\t\t\t\t\t\tonRow={row => ({\r\n\t\t\t\t\t\t\t\tonClick: () => setSelectedPlatformKey(row.key),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"surface-export-action-panel\">\r\n\t\t\t\t<Card title=\"Manual Transfer\">\r\n\t\t\t\t\t<Space direction=\"vertical\" size=\"middle\" style={{ width: \"100%\" }}>\r\n\t\t\t\t\t\t{selectedSource ? (\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\tmessage={`Source: ${selectedSource.platformName}`}\r\n\t\t\t\t\t\t\t\tdescription={`Instance ${selectedSource.instanceName} (${selectedSource.instanceId})`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Alert type=\"warning\" showIcon message=\"Select a source platform in the tree\" />\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Select destination instance\"\r\n\t\t\t\t\t\t\toptions={destinationOptions}\r\n\t\t\t\t\t\t\tvalue={selectedTargetInstance}\r\n\t\t\t\t\t\t\tonChange={setSelectedTargetInstance}\r\n\t\t\t\t\t\t\tdisabled={!selectedSource}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={submitTransfer}\r\n\t\t\t\t\t\t\tdisabled={!selectedSource || selectedTargetInstance === null}\r\n\t\t\t\t\t\t\tloading={isSubmitting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tStart Transfer\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction humanizeMetricKey(key) {\r\n\treturn String(key || \"\")\r\n\t\t.replace(/_/g, \" \")\r\n\t\t.replace(/([a-z])([A-Z])/g, \"$1 $2\")\r\n\t\t.replace(/\\s+/g, \" \")\r\n\t\t.trim()\r\n\t\t.replace(/^./, text => text.toUpperCase());\r\n}\r\n\r\nfunction formatDuration(durationMs) {\r\n\tif (typeof durationMs !== \"number\" || Number.isNaN(durationMs)) {\r\n\t\treturn \"-\";\r\n\t}\r\n\tif (durationMs >= 1000) {\r\n\t\treturn `${(durationMs / 1000).toFixed(1)}s (${Math.round(durationMs).toLocaleString()}ms)`;\r\n\t}\r\n\treturn `${Math.round(durationMs).toLocaleString()}ms`;\r\n}\r\n\r\nfunction formatNumeric(value, maxFractionDigits = 1) {\r\n\tif (typeof value !== \"number\" || Number.isNaN(value)) {\r\n\t\treturn \"-\";\r\n\t}\r\n\treturn value.toLocaleString(undefined, { maximumFractionDigits: maxFractionDigits });\r\n}\r\n\r\nfunction formatSigned(value, maxFractionDigits = 1) {\r\n\tif (typeof value !== \"number\" || Number.isNaN(value)) {\r\n\t\treturn \"-\";\r\n\t}\r\n\tconst sign = value > 0 ? \"+\" : \"\";\r\n\treturn `${sign}${value.toLocaleString(undefined, { maximumFractionDigits: maxFractionDigits })}`;\r\n}\r\n\r\nfunction sumValues(map) {\r\n\treturn Object.values(map || {}).reduce((total, value) => {\r\n\t\tconst numeric = Number(value);\r\n\t\treturn Number.isFinite(numeric) ? total + numeric : total;\r\n\t}, 0);\r\n}\r\n\r\nfunction buildMetricRows(data) {\r\n\tif (!data || typeof data !== \"object\") {\r\n\t\treturn [];\r\n\t}\r\n\r\n\treturn Object.entries(data).map(([key, value]) => {\r\n\t\tlet formattedValue = \"-\";\r\n\t\tif (typeof value === \"boolean\") {\r\n\t\t\tformattedValue = value ? \"Yes\" : \"No\";\r\n\t\t} else if (typeof value === \"number\") {\r\n\t\t\tconst lowered = key.toLowerCase();\r\n\t\t\tif (lowered.endsWith(\"ms\")) {\r\n\t\t\t\tformattedValue = `${formatNumeric(value, 0)} ms`;\r\n\t\t\t} else if (lowered.endsWith(\"ticks\")) {\r\n\t\t\t\tformattedValue = `${formatNumeric(value, 0)} ticks`;\r\n\t\t\t} else if (lowered.endsWith(\"kb\")) {\r\n\t\t\t\tformattedValue = `${formatNumeric(value, 1)} KB`;\r\n\t\t\t} else {\r\n\t\t\t\tformattedValue = formatNumeric(value, Number.isInteger(value) ? 0 : 1);\r\n\t\t\t}\r\n\t\t} else if (value !== null && value !== undefined) {\r\n\t\t\tformattedValue = String(value);\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tkey,\r\n\t\t\tmetric: humanizeMetricKey(key),\r\n\t\t\tvalue: formattedValue,\r\n\t\t};\r\n\t});\r\n}\r\n\r\nfunction buildExpectedActualRows(expectedMap, actualMap) {\r\n\tconst expected = expectedMap || {};\r\n\tconst actual = actualMap || {};\r\n\tconst keys = new Set([ ...Object.keys(expected), ...Object.keys(actual) ]);\r\n\tconst rows = [];\r\n\tfor (const name of keys) {\r\n\t\tconst expectedValue = Number(expected[name] || 0);\r\n\t\tconst actualValue = Number(actual[name] || 0);\r\n\t\tconst delta = actualValue - expectedValue;\r\n\t\trows.push({\r\n\t\t\tkey: name,\r\n\t\t\tname,\r\n\t\t\texpected: expectedValue,\r\n\t\t\tactual: actualValue,\r\n\t\t\tdelta,\r\n\t\t\tpreservedPct: expectedValue > 0 ? (actualValue / expectedValue) * 100 : null,\r\n\t\t});\r\n\t}\r\n\trows.sort((a, b) => Math.abs(b.delta) - Math.abs(a.delta) || a.name.localeCompare(b.name));\r\n\treturn rows;\r\n}\r\n\r\nfunction findLatestEvent(events, predicate) {\r\n\tfor (let index = events.length - 1; index >= 0; index -= 1) {\r\n\t\tif (predicate(events[index])) {\r\n\t\t\treturn events[index];\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction buildDetailedLogSummary(detail, transferId) {\r\n\tconst transferInfo = detail?.transferInfo || null;\r\n\tconst events = Array.isArray(detail?.events) ? detail.events : [];\r\n\tconst summary = detail?.summary && typeof detail.summary === \"object\" ? detail.summary : {};\r\n\r\n\tconst transferCreatedEvent = findLatestEvent(events, event => event?.eventType === \"transfer_created\");\r\n\tconst validationEvent = findLatestEvent(events, event => (\r\n\t\tevent?.eventType === \"validation_received\"\r\n\t\t|| event?.eventType === \"validation_failed\"\r\n\t\t|| event?.validation\r\n\t));\r\n\tconst completionEvent = findLatestEvent(events, event => (\r\n\t\tevent?.eventType === \"transfer_completed\"\r\n\t\t|| event?.eventType === \"transfer_failed\"\r\n\t));\r\n\tconst latestEvent = events.length ? events[events.length - 1] : null;\r\n\r\n\tconst status = transferInfo?.status || summary.status || \"unknown\";\r\n\tlet result = summary.result;\r\n\tif (!result) {\r\n\t\tif (status === \"completed\") {\r\n\t\t\tresult = \"SUCCESS\";\r\n\t\t} else if ([ \"failed\", \"error\", \"cleanup_failed\" ].includes(status)) {\r\n\t\t\tresult = \"FAILED\";\r\n\t\t} else {\r\n\t\t\tresult = \"IN_PROGRESS\";\r\n\t\t}\r\n\t}\r\n\r\n\tconst startedAt = transferInfo?.startedAt || summary.startedAt || transferCreatedEvent?.timestampMs || null;\r\n\tconst completedAt = transferInfo?.completedAt || summary.completedAt || null;\r\n\tconst failedAt = transferInfo?.failedAt || summary.failedAt || null;\r\n\tconst lastEventAt = summary.lastEventAt || latestEvent?.timestampMs || null;\r\n\tconst finishedAt = completedAt || failedAt || completionEvent?.timestampMs || lastEventAt;\r\n\tlet totalDurationMs = typeof summary.totalDurationMs === \"number\" ? summary.totalDurationMs : null;\r\n\tif (totalDurationMs === null && startedAt && finishedAt) {\r\n\t\ttotalDurationMs = Math.max(0, finishedAt - startedAt);\r\n\t}\r\n\tif (totalDurationMs === null && typeof completionEvent?.durationMs === \"number\") {\r\n\t\ttotalDurationMs = completionEvent.durationMs;\r\n\t}\r\n\r\n\tconst validation = summary.validation || validationEvent?.validation || null;\r\n\tlet sourceVerification = summary.sourceVerification || transferCreatedEvent?.sourceVerification || null;\r\n\tif (!sourceVerification && validation) {\r\n\t\tsourceVerification = {\r\n\t\t\titemCounts: validation.expectedItemCounts || {},\r\n\t\t\tfluidCounts: validation.expectedFluidCounts || {},\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\ttransferId,\r\n\t\tresult,\r\n\t\tstatus,\r\n\t\ttotalDurationMs,\r\n\t\ttotalDurationStr: summary.totalDurationStr || formatDuration(totalDurationMs),\r\n\t\tphases: summary.phases || completionEvent?.phases || {},\r\n\t\tplatform: summary.platform || {\r\n\t\t\tname: transferInfo?.platformName || \"Unknown\",\r\n\t\t\tsource: {\r\n\t\t\t\tinstanceId: transferInfo?.sourceInstanceId ?? -1,\r\n\t\t\t\tinstanceName: transferInfo?.sourceInstanceName ?? null,\r\n\t\t\t},\r\n\t\t\tdestination: {\r\n\t\t\t\tinstanceId: transferInfo?.targetInstanceId ?? -1,\r\n\t\t\t\tinstanceName: transferInfo?.targetInstanceName ?? null,\r\n\t\t\t},\r\n\t\t},\r\n\t\tpayload: summary.payload || completionEvent?.payloadMetrics || transferCreatedEvent?.payloadMetrics || null,\r\n\t\timport: summary.import || completionEvent?.importMetrics || validationEvent?.importMetrics || null,\r\n\t\tvalidation,\r\n\t\tsourceVerification,\r\n\t\tstartedAt,\r\n\t\tcompletedAt,\r\n\t\tfailedAt,\r\n\t\tlastEventAt,\r\n\t\terror: summary.error || transferInfo?.error || null,\r\n\t};\r\n}\r\n\r\nfunction TransactionLogsTab({ plugin, state }) {\r\n\tconst [selectedTransferId, setSelectedTransferId] = useState(null);\r\n\tconst selectedDetails = selectedTransferId ? state.logDetails[selectedTransferId] : null;\r\n\tconst detailedSummary = useMemo(\r\n\t\t() => (selectedDetails ? buildDetailedLogSummary(selectedDetails, selectedTransferId) : null),\r\n\t\t[selectedDetails, selectedTransferId]\r\n\t);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Transfer\",\r\n\t\t\tdataIndex: \"transferId\",\r\n\t\t\tkey: \"transferId\",\r\n\t\t\trender: transferId => <Text code>{transferId}</Text>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Platform\",\r\n\t\t\tdataIndex: \"platformName\",\r\n\t\t\tkey: \"platformName\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Source\",\r\n\t\t\tkey: \"source\",\r\n\t\t\trender: (_, row) => row.sourceInstanceName || row.sourceInstanceId,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Destination\",\r\n\t\t\tkey: \"destination\",\r\n\t\t\trender: (_, row) => row.targetInstanceName || row.targetInstanceId,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Status\",\r\n\t\t\tdataIndex: \"status\",\r\n\t\t\tkey: \"status\",\r\n\t\t\trender: status => <Tag color={statusColor(status)}>{status}</Tag>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Started\",\r\n\t\t\tdataIndex: \"startedAt\",\r\n\t\t\tkey: \"startedAt\",\r\n\t\t\trender: startedAt => startedAt ? new Date(startedAt).toLocaleString() : \"-\",\r\n\t\t},\r\n\t];\r\n\tconst metricColumns = [\r\n\t\t{\r\n\t\t\ttitle: \"Metric\",\r\n\t\t\tdataIndex: \"metric\",\r\n\t\t\tkey: \"metric\",\r\n\t\t\twidth: \"60%\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Value\",\r\n\t\t\tdataIndex: \"value\",\r\n\t\t\tkey: \"value\",\r\n\t\t},\r\n\t];\r\n\tconst comparisonColumns = [\r\n\t\t{\r\n\t\t\ttitle: \"Key\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tkey: \"name\",\r\n\t\t\twidth: \"40%\",\r\n\t\t\trender: name => <Text code>{name}</Text>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Expected\",\r\n\t\t\tdataIndex: \"expected\",\r\n\t\t\tkey: \"expected\",\r\n\t\t\trender: value => formatNumeric(value, Number.isInteger(value) ? 0 : 1),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Actual\",\r\n\t\t\tdataIndex: \"actual\",\r\n\t\t\tkey: \"actual\",\r\n\t\t\trender: value => formatNumeric(value, Number.isInteger(value) ? 0 : 1),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"\",\r\n\t\t\tdataIndex: \"delta\",\r\n\t\t\tkey: \"delta\",\r\n\t\t\trender: delta => (\r\n\t\t\t\t<Text type={delta === 0 ? undefined : delta > 0 ? \"success\" : \"danger\"}>\r\n\t\t\t\t\t{formatSigned(delta, Number.isInteger(delta) ? 0 : 1)}\r\n\t\t\t\t</Text>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Preserved\",\r\n\t\t\tdataIndex: \"preservedPct\",\r\n\t\t\tkey: \"preservedPct\",\r\n\t\t\trender: value => (value === null ? \"-\" : `${formatNumeric(value, 1)}%`),\r\n\t\t},\r\n\t];\r\n\r\n\tconst timelineItems = (selectedDetails?.events || []).map(event => {\r\n\t\tconst eventType = event.eventType || \"\";\r\n\t\tconst isFailure = eventType.includes(\"failed\") || eventType.includes(\"error\");\r\n\t\tconst isSuccess = eventType.includes(\"completed\") || eventType.includes(\"success\");\r\n\t\treturn {\r\n\t\t\tcolor: isFailure ? \"red\" : isSuccess ? \"green\" : \"blue\",\r\n\t\t\tlabel: event.timestamp ? new Date(event.timestamp).toLocaleTimeString() : \"\",\r\n\t\t\tchildren: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Text strong>{event.eventType || \"event\"}</Text>\r\n\t\t\t\t\t<div>{event.message || \"\"}</div>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t};\r\n\t});\r\n\r\n\tconst phaseRows = useMemo(\r\n\t\t() => Object.entries(detailedSummary?.phases || {})\r\n\t\t\t.map(([phase, durationMs]) => ({\r\n\t\t\t\tkey: phase,\r\n\t\t\t\tphase: humanizeMetricKey(String(phase).replace(/Ms$/, \"\")),\r\n\t\t\t\tdurationMs: Number(durationMs) || 0,\r\n\t\t\t\tduration: formatDuration(Number(durationMs) || 0),\r\n\t\t\t}))\r\n\t\t\t.sort((a, b) => b.durationMs - a.durationMs),\r\n\t\t[detailedSummary]\r\n\t);\r\n\tconst payloadRows = useMemo(() => buildMetricRows(detailedSummary?.payload), [detailedSummary]);\r\n\tconst importRows = useMemo(() => buildMetricRows(detailedSummary?.import), [detailedSummary]);\r\n\r\n\tconst validation = detailedSummary?.validation || null;\r\n\tconst validationRows = useMemo(() => {\r\n\t\tif (!validation) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn [\r\n\t\t\t{ key: \"itemCountMatch\", metric: \"Item counts match\", value: validation.itemCountMatch ? \"Yes\" : \"No\" },\r\n\t\t\t{ key: \"fluidCountMatch\", metric: \"Fluid counts match\", value: validation.fluidCountMatch ? \"Yes\" : \"No\" },\r\n\t\t\t{ key: \"entityCount\", metric: \"Entity count\", value: formatNumeric(validation.entityCount, 0) },\r\n\t\t\t{ key: \"itemTypesExpected\", metric: \"Item types (expected)\", value: formatNumeric(validation.itemTypesExpected, 0) },\r\n\t\t\t{ key: \"itemTypesActual\", metric: \"Item types (actual)\", value: formatNumeric(validation.itemTypesActual, 0) },\r\n\t\t\t{ key: \"fluidTypesExpected\", metric: \"Fluid types (expected)\", value: formatNumeric(validation.fluidTypesExpected, 0) },\r\n\t\t\t{ key: \"fluidTypesActual\", metric: \"Fluid types (actual)\", value: formatNumeric(validation.fluidTypesActual, 0) },\r\n\t\t];\r\n\t}, [validation]);\r\n\r\n\tconst expectedItems = validation?.expectedItemCounts\r\n\t\t|| detailedSummary?.sourceVerification?.itemCounts\r\n\t\t|| {};\r\n\tconst actualItems = validation?.actualItemCounts || {};\r\n\tconst expectedFluids = validation?.expectedFluidCounts\r\n\t\t|| detailedSummary?.sourceVerification?.fluidCounts\r\n\t\t|| {};\r\n\tconst actualFluids = validation?.actualFluidCounts || {};\r\n\r\n\tconst itemRows = useMemo(() => buildExpectedActualRows(expectedItems, actualItems), [expectedItems, actualItems]);\r\n\tconst fluidRows = useMemo(() => buildExpectedActualRows(expectedFluids, actualFluids), [expectedFluids, actualFluids]);\r\n\r\n\tconst totalRows = useMemo(() => {\r\n\t\tif (!validation) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tconst itemExpected = validation.totalExpectedItems ?? sumValues(expectedItems);\r\n\t\tconst itemActual = validation.totalActualItems ?? sumValues(actualItems);\r\n\t\tconst fluidExpected = validation.totalExpectedFluids ?? sumValues(expectedFluids);\r\n\t\tconst fluidActual = validation.totalActualFluids ?? sumValues(actualFluids);\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tkey: \"items\",\r\n\t\t\t\tname: \"Items (total)\",\r\n\t\t\t\texpected: itemExpected,\r\n\t\t\t\tactual: itemActual,\r\n\t\t\t\tdelta: itemActual - itemExpected,\r\n\t\t\t\tpreservedPct: itemExpected > 0 ? (itemActual / itemExpected) * 100 : null,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey: \"fluids\",\r\n\t\t\t\tname: \"Fluids (total)\",\r\n\t\t\t\texpected: fluidExpected,\r\n\t\t\t\tactual: fluidActual,\r\n\t\t\t\tdelta: fluidActual - fluidExpected,\r\n\t\t\t\tpreservedPct: fluidExpected > 0 ? (fluidActual / fluidExpected) * 100 : null,\r\n\t\t\t},\r\n\t\t];\r\n\t}, [validation, expectedItems, actualItems, expectedFluids, actualFluids]);\r\n\r\n\tconst entityRows = useMemo(\r\n\t\t() => Object.entries(validation?.entityTypeBreakdown || {})\r\n\t\t\t.map(([type, count]) => ({\r\n\t\t\t\tkey: type,\r\n\t\t\t\tentityType: type,\r\n\t\t\t\tcount: Number(count) || 0,\r\n\t\t\t}))\r\n\t\t\t.sort((a, b) => b.count - a.count),\r\n\t\t[validation]\r\n\t);\r\n\r\n\tconst fluidReconciliationRows = useMemo(() => {\r\n\t\tconst recon = validation?.fluidReconciliation;\r\n\t\tif (!recon) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn [\r\n\t\t\t{ key: \"rawFluidDelta\", metric: \"Raw fluid delta\", value: formatSigned(recon.rawFluidDelta, 1) },\r\n\t\t\t{ key: \"reconciledFluidLoss\", metric: \"Reconciled fluid loss\", value: formatNumeric(recon.reconciledFluidLoss, 1) },\r\n\t\t\t{ key: \"lowTempLoss\", metric: \"Low-temp loss\", value: formatNumeric(recon.lowTempLoss, 1) },\r\n\t\t\t{ key: \"highTempReconciledLoss\", metric: \"High-temp reconciled loss\", value: formatNumeric(recon.highTempReconciledLoss, 1) },\r\n\t\t\t{ key: \"fluidPreservedPct\", metric: \"Fluid preserved\", value: `${formatNumeric(recon.fluidPreservedPct, 1)}%` },\r\n\t\t\t{ key: \"highTempThreshold\", metric: \"High-temp threshold\", value: formatNumeric(recon.highTempThreshold, 0) },\r\n\t\t];\r\n\t}, [validation]);\r\n\r\n\tconst highTempRows = useMemo(\r\n\t\t() => Object.entries(validation?.fluidReconciliation?.highTempAggregates || {})\r\n\t\t\t.map(([name, aggregate]) => ({\r\n\t\t\t\tkey: name,\r\n\t\t\t\tname,\r\n\t\t\t\texpected: Number(aggregate?.expected || 0),\r\n\t\t\t\tactual: Number(aggregate?.actual || 0),\r\n\t\t\t\tdelta: Number(aggregate?.delta || 0),\r\n\t\t\t\treconciled: Boolean(aggregate?.reconciled),\r\n\t\t\t}))\r\n\t\t\t.sort((a, b) => Math.abs(b.delta) - Math.abs(a.delta) || a.name.localeCompare(b.name)),\r\n\t\t[validation]\r\n\t);\r\n\r\n\tconst selectedStatus = detailedSummary?.status || selectedDetails?.transferInfo?.status || \"unknown\";\r\n\tconst selectedResult = detailedSummary?.result || \"IN_PROGRESS\";\r\n\tconst summaryAlertType = selectedResult === \"SUCCESS\"\r\n\t\t? \"success\"\r\n\t\t: selectedResult === \"FAILED\" ? \"error\" : \"info\";\r\n\tconst detailLoaded = Boolean(selectedDetails && detailedSummary);\r\n\tconst hasValidation = Boolean(validation);\r\n\r\n\treturn (\r\n\t\t<div className=\"surface-export-log-body\">\r\n\t\t\t<Card title=\"Recent Transfer Logs\">\r\n\t\t\t\t<Table\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\tdataSource={state.transferSummaries}\r\n\t\t\t\t\trowKey={row => row.transferId}\r\n\t\t\t\t\tpagination={{ pageSize: 10 }}\r\n\t\t\t\t\trowClassName={row => row.transferId === selectedTransferId ? \"surface-export-log-row-selected\" : \"surface-export-log-row\"}\r\n\t\t\t\t\tonRow={row => ({\r\n\t\t\t\t\t\tonClick: async () => {\r\n\t\t\t\t\t\t\tsetSelectedTransferId(row.transferId);\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tawait plugin.loadTransactionLog(row.transferId);\r\n\t\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\t\tantMessage.error(err.message || \"Failed to load transaction log\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\r\n\t\t\t{!selectedTransferId ? (\r\n\t\t\t\t<Card title=\"Transfer Details\">\r\n\t\t\t\t\t<Empty description=\"Select a transfer row to view details\" />\r\n\t\t\t\t</Card>\r\n\t\t\t) : null}\r\n\r\n\t\t\t{selectedTransferId && !selectedDetails ? (\r\n\t\t\t\t<Card title=\"Transfer Details\">\r\n\t\t\t\t\t<Spin />\r\n\t\t\t\t</Card>\r\n\t\t\t) : null}\r\n\r\n\t\t\t{detailLoaded ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Card title=\"Transfer Summary\">\r\n\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\ttype={summaryAlertType}\r\n\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\tmessage={`${selectedResult}: ${detailedSummary.platform?.name || selectedTransferId}`}\r\n\t\t\t\t\t\t\tdescription={`Duration: ${detailedSummary.totalDurationStr} | Status: ${selectedStatus}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Space direction=\"vertical\" style={{ width: \"100%\", marginTop: 12 }}>\r\n\t\t\t\t\t\t\t{detailedSummary.error ? (\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\ttype=\"error\"\r\n\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\tmessage=\"Transfer error\"\r\n\t\t\t\t\t\t\t\t\tdescription={detailedSummary.error}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\tcolumns={metricColumns}\r\n\t\t\t\t\t\t\t\tdataSource={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tkey: \"platform\",\r\n\t\t\t\t\t\t\t\t\t\tmetric: \"Platform\",\r\n\t\t\t\t\t\t\t\t\t\tvalue: detailedSummary.platform?.name || \"-\",\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tkey: \"source\",\r\n\t\t\t\t\t\t\t\t\t\tmetric: \"Source\",\r\n\t\t\t\t\t\t\t\t\t\tvalue: detailedSummary.platform?.source?.instanceName\r\n\t\t\t\t\t\t\t\t\t\t\t|| detailedSummary.platform?.source?.instanceId\r\n\t\t\t\t\t\t\t\t\t\t\t|| \"-\",\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tkey: \"destination\",\r\n\t\t\t\t\t\t\t\t\t\tmetric: \"Destination\",\r\n\t\t\t\t\t\t\t\t\t\tvalue: detailedSummary.platform?.destination?.instanceName\r\n\t\t\t\t\t\t\t\t\t\t\t|| detailedSummary.platform?.destination?.instanceId\r\n\t\t\t\t\t\t\t\t\t\t\t|| \"-\",\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t<Card title=\"Phase Timing\">\r\n\t\t\t\t\t\t{phaseRows.length ? (\r\n\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\tcolumns={[\r\n\t\t\t\t\t\t\t\t\t{ title: \"Phase\", dataIndex: \"phase\", key: \"phase\" },\r\n\t\t\t\t\t\t\t\t\t{ title: \"Duration\", dataIndex: \"duration\", key: \"duration\" },\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\tdataSource={phaseRows}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty description=\"No phase timing data available yet\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t<Card title=\"Payload Metrics\">\r\n\t\t\t\t\t\t{payloadRows.length ? (\r\n\t\t\t\t\t\t\t<Table size=\"small\" pagination={false} columns={metricColumns} dataSource={payloadRows} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty description=\"No payload metrics available\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t<Card title=\"Import Processing Metrics\">\r\n\t\t\t\t\t\t{importRows.length ? (\r\n\t\t\t\t\t\t\t<Table size=\"small\" pagination={false} columns={metricColumns} dataSource={importRows} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty description=\"No import metrics available\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t<Card title=\"Validation Overview\">\r\n\t\t\t\t\t\t{hasValidation ? (\r\n\t\t\t\t\t\t\t<Space direction=\"vertical\" style={{ width: \"100%\" }}>\r\n\t\t\t\t\t\t\t\t<Table size=\"small\" pagination={false} columns={metricColumns} dataSource={validationRows} />\r\n\t\t\t\t\t\t\t\t{validation?.mismatchDetails ? (\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\ttype=\"error\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\tmessage=\"Validation mismatch details\"\r\n\t\t\t\t\t\t\t\t\t\tdescription={validation.mismatchDetails}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<Table size=\"small\" pagination={false} columns={comparisonColumns} dataSource={totalRows} />\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty description=\"No validation data available yet\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t<Card title=\"Entity Type Breakdown\">\r\n\t\t\t\t\t\t{entityRows.length ? (\r\n\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tpagination={{ pageSize: 10 }}\r\n\t\t\t\t\t\t\t\tcolumns={[\r\n\t\t\t\t\t\t\t\t\t{ title: \"Entity Type\", dataIndex: \"entityType\", key: \"entityType\", render: value => <Text code>{value}</Text> },\r\n\t\t\t\t\t\t\t\t\t{ title: \"Count\", dataIndex: \"count\", key: \"count\", render: value => formatNumeric(value, 0) },\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\tdataSource={entityRows}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty description=\"No entity breakdown available\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t<Card title=\"Item Inventory (Expected vs Actual)\">\r\n\t\t\t\t\t\t{itemRows.length ? (\r\n\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tpagination={{ pageSize: 20 }}\r\n\t\t\t\t\t\t\t\tcolumns={comparisonColumns}\r\n\t\t\t\t\t\t\t\tdataSource={itemRows}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty description=\"No item inventory data available\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t<Card title=\"Fluid Inventory (Expected vs Actual)\">\r\n\t\t\t\t\t\t{fluidRows.length ? (\r\n\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tpagination={{ pageSize: 20 }}\r\n\t\t\t\t\t\t\t\tcolumns={comparisonColumns}\r\n\t\t\t\t\t\t\t\tdataSource={fluidRows}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty description=\"No fluid inventory data available\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t<Card title=\"High-Temperature Fluid Aggregates\">\r\n\t\t\t\t\t\t{highTempRows.length ? (\r\n\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\tcolumns={[\r\n\t\t\t\t\t\t\t\t\t{ title: \"Fluid\", dataIndex: \"name\", key: \"name\", render: value => <Text code>{value}</Text> },\r\n\t\t\t\t\t\t\t\t\t{ title: \"Expected\", dataIndex: \"expected\", key: \"expected\", render: value => formatNumeric(value, 1) },\r\n\t\t\t\t\t\t\t\t\t{ title: \"Actual\", dataIndex: \"actual\", key: \"actual\", render: value => formatNumeric(value, 1) },\r\n\t\t\t\t\t\t\t\t\t{ title: \"\", dataIndex: \"delta\", key: \"delta\", render: value => formatSigned(value, 1) },\r\n\t\t\t\t\t\t\t\t\t{ title: \"Reconciled\", dataIndex: \"reconciled\", key: \"reconciled\", render: value => value ? \"Yes\" : \"No\" },\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\tdataSource={highTempRows}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty description=\"No high-temp aggregate data available\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t{fluidReconciliationRows.length ? (\r\n\t\t\t\t\t\t<Card title=\"Fluid Reconciliation\">\r\n\t\t\t\t\t\t\t<Table size=\"small\" pagination={false} columns={metricColumns} dataSource={fluidReconciliationRows} />\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t<Card title=\"Transfer Timeline\">\r\n\t\t\t\t\t\t<Timeline items={timelineItems} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction SurfaceExportPage() {\r\n\tconst control = useContext(ControlContext);\r\n\tconst plugin = useSurfaceExportPlugin(control);\r\n\tconst state = useSurfaceExportState(plugin);\r\n\tconst tabItems = [\r\n\t\t{\r\n\t\t\tkey: \"manual\",\r\n\t\t\tlabel: \"Manual Transfer\",\r\n\t\t\tchildren: <ManualTransferTab plugin={plugin} state={state} />,\r\n\t\t},\r\n\t];\r\n\tif (state.canViewLogs !== false) {\r\n\t\ttabItems.push({\r\n\t\t\tkey: \"logs\",\r\n\t\t\tlabel: \"Transaction Logs\",\r\n\t\t\tchildren: <TransactionLogsTab plugin={plugin} state={state} />,\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PageLayout nav={[{ name: \"Surface Export\" }]}>\r\n\t\t\t<PageHeader title=\"Surface Export\" />\r\n\t\t\t<Tabs\r\n\t\t\t\tdefaultActiveKey=\"manual\"\r\n\t\t\t\titems={tabItems}\r\n\t\t\t/>\r\n\t\t</PageLayout>\r\n\t);\r\n}\r\n\r\nexport class WebPlugin extends BaseWebPlugin {\r\n\tconstructor(container, packageData, info, control, logger) {\r\n\t\tsuper(container, packageData, info, control, logger);\r\n\t\tthis.callbacks = [];\r\n\t\tthis.liveUpdatesEnabled = false;\r\n\t\tthis.state = {\r\n\t\t\ttree: null,\r\n\t\t\tloadingTree: false,\r\n\t\t\ttreeError: null,\r\n\t\t\ttransferSummaries: [],\r\n\t\t\tlogDetails: {},\r\n\t\t\tlastTreeRevision: 0,\r\n\t\t\tlastTransferRevision: 0,\r\n\t\t\tlastLogRevision: 0,\r\n\t\t\tcanViewLogs: true,\r\n\t\t};\r\n\t}\r\n\r\n\tasync init() {\r\n\t\tthis.pages = [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/surface-export\",\r\n\t\t\t\tsidebarName: \"Surface Export\",\r\n\t\t\t\tpermission: PERMISSIONS.UI_VIEW,\r\n\t\t\t\tcontent: <SurfaceExportPage />,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\tthis.control.handle(SurfaceExportTreeUpdateEvent, this.handleTreeUpdate.bind(this));\r\n\t\tthis.control.handle(SurfaceExportTransferUpdateEvent, this.handleTransferUpdate.bind(this));\r\n\t\tthis.control.handle(SurfaceExportLogUpdateEvent, this.handleLogUpdate.bind(this));\r\n\t}\r\n\r\n\tonControllerConnectionEvent(event) {\r\n\t\tif (event === \"connect\" || event === \"resume\") {\r\n\t\t\tthis.syncLiveState().catch(notifyErrorHandler(\"Failed to resubscribe Surface Export live updates\"));\r\n\t\t}\r\n\t}\r\n\r\n\tgetState() {\r\n\t\treturn this.state;\r\n\t}\r\n\r\n\tsetState(partial) {\r\n\t\tthis.state = { ...this.state, ...partial };\r\n\t\tfor (const callback of this.callbacks) {\r\n\t\t\tcallback();\r\n\t\t}\r\n\t}\r\n\r\n\tonUpdate(callback) {\r\n\t\tthis.callbacks.push(callback);\r\n\t\tthis.syncLiveState().catch(notifyErrorHandler(\"Failed to start Surface Export live updates\"));\r\n\t}\r\n\r\n\toffUpdate(callback) {\r\n\t\tconst index = this.callbacks.lastIndexOf(callback);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.callbacks.splice(index, 1);\r\n\t\t}\r\n\t\tthis.syncLiveState().catch(notifyErrorHandler(\"Failed to update Surface Export subscription\"));\r\n\t}\r\n\r\n\tasync syncLiveState() {\r\n\t\tconst shouldEnable = this.callbacks.length > 0;\r\n\t\tif (!this.control.connector.connected) {\r\n\t\t\tthis.liveUpdatesEnabled = shouldEnable;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst trySubscribe = logs => this.control.send(new SetSurfaceExportSubscriptionRequest({\r\n\t\t\ttree: shouldEnable,\r\n\t\t\ttransfers: shouldEnable,\r\n\t\t\tlogs,\r\n\t\t\ttransferId: null,\r\n\t\t}));\r\n\t\tlet logsEnabled = shouldEnable && this.state.canViewLogs !== false;\r\n\t\ttry {\r\n\t\t\tawait trySubscribe(logsEnabled);\r\n\t\t} catch (err) {\r\n\t\t\tif (logsEnabled && /permission denied/i.test(err?.message || \"\")) {\r\n\t\t\t\tlogsEnabled = false;\r\n\t\t\t\tthis.setState({ canViewLogs: false });\r\n\t\t\t\tawait trySubscribe(false);\r\n\t\t\t} else {\r\n\t\t\t\tthrow err;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.liveUpdatesEnabled = shouldEnable;\r\n\t\tif (shouldEnable) {\r\n\t\t\tawait this.refreshSnapshots();\r\n\t\t}\r\n\t}\r\n\r\n\tasync refreshSnapshots() {\r\n\t\tthis.setState({ loadingTree: true, treeError: null });\r\n\t\ttry {\r\n\t\t\tconst treeResponse = await this.control.send(new GetPlatformTreeRequest({ forceName: \"player\" }));\r\n\t\t\tlet transferSummaries = this.state.transferSummaries;\r\n\t\t\tif (this.state.canViewLogs !== false) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst logSummaries = await this.control.send(new ListTransactionLogsRequest({ limit: 100 }));\r\n\t\t\t\t\ttransferSummaries = Array.isArray(logSummaries)\r\n\t\t\t\t\t\t? [...logSummaries].sort((a, b) => (b.startedAt || 0) - (a.startedAt || 0))\r\n\t\t\t\t\t\t: [];\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tif (/permission denied/i.test(err?.message || \"\")) {\r\n\t\t\t\t\t\tthis.setState({ canViewLogs: false });\r\n\t\t\t\t\t\ttransferSummaries = [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow err;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\ttree: {\r\n\t\t\t\t\tforceName: treeResponse.forceName,\r\n\t\t\t\t\thosts: treeResponse.hosts || [],\r\n\t\t\t\t\tunassignedInstances: treeResponse.unassignedInstances || [],\r\n\t\t\t\t\trevision: treeResponse.revision,\r\n\t\t\t\t\tgeneratedAt: treeResponse.generatedAt,\r\n\t\t\t\t},\r\n\t\t\t\ttransferSummaries,\r\n\t\t\t\tloadingTree: false,\r\n\t\t\t\ttreeError: null,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloadingTree: false,\r\n\t\t\t\ttreeError: err.message || \"Failed to refresh Surface Export state\",\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tasync startTransfer(payload) {\r\n\t\treturn this.control.send(new StartPlatformTransferRequest(payload));\r\n\t}\r\n\r\n\tasync loadTransactionLog(transferId) {\r\n\t\tconst response = await this.control.send(new GetTransactionLogRequest({ transferId }));\r\n\t\tif (!response.success) {\r\n\t\t\tthrow new Error(response.error || \"Failed to load transaction log\");\r\n\t\t}\r\n\r\n\t\tconst existing = this.state.logDetails[transferId] || {};\r\n\t\tconst transferInfo = response.transferInfo || existing.transferInfo || null;\r\n\t\tconst events = Array.isArray(response.events) ? response.events : existing.events || [];\r\n\t\tconst detail = {\r\n\t\t\ttransferInfo,\r\n\t\t\tsummary: response.summary || existing.summary || null,\r\n\t\t\tevents,\r\n\t\t};\r\n\r\n\t\tconst transferSummary = summaryFromTransferInfo(transferInfo, events.length ? events[events.length - 1].timestampMs : null);\r\n\t\tif (transferSummary) {\r\n\t\t\ttransferSummary.transferId = transferId;\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tlogDetails: {\r\n\t\t\t\t...this.state.logDetails,\r\n\t\t\t\t[transferId]: detail,\r\n\t\t\t},\r\n\t\t\ttransferSummaries: transferSummary\r\n\t\t\t\t? mergeTransferSummary(this.state.transferSummaries, transferSummary)\r\n\t\t\t\t: this.state.transferSummaries,\r\n\t\t});\r\n\t}\r\n\r\n\tasync handleTreeUpdate(event) {\r\n\t\tif (event.revision <= this.state.lastTreeRevision) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\ttree: {\r\n\t\t\t\tforceName: event.forceName,\r\n\t\t\t\thosts: event.tree?.hosts || [],\r\n\t\t\t\tunassignedInstances: event.tree?.unassignedInstances || [],\r\n\t\t\t\trevision: event.revision,\r\n\t\t\t\tgeneratedAt: event.generatedAt,\r\n\t\t\t},\r\n\t\t\tloadingTree: false,\r\n\t\t\ttreeError: null,\r\n\t\t\tlastTreeRevision: event.revision,\r\n\t\t});\r\n\t}\r\n\r\n\tasync handleTransferUpdate(event) {\r\n\t\tif (event.revision <= this.state.lastTransferRevision) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\ttransferSummaries: mergeTransferSummary(this.state.transferSummaries, event.transfer),\r\n\t\t\tlastTransferRevision: event.revision,\r\n\t\t});\r\n\t}\r\n\r\n\tasync handleLogUpdate(event) {\r\n\t\tif (event.revision <= this.state.lastLogRevision) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst existing = this.state.logDetails[event.transferId] || { events: [] };\r\n\t\tconst events = [...existing.events];\r\n\t\tconst incoming = event.event || {};\r\n\t\tconst lastEvent = events.length ? events[events.length - 1] : null;\r\n\t\tconst isDuplicate = lastEvent\r\n\t\t\t&& lastEvent.timestampMs === incoming.timestampMs\r\n\t\t\t&& lastEvent.eventType === incoming.eventType\r\n\t\t\t&& lastEvent.message === incoming.message;\r\n\t\tif (!isDuplicate) {\r\n\t\t\tevents.push(incoming);\r\n\t\t}\r\n\r\n\t\tconst detail = {\r\n\t\t\ttransferInfo: event.transferInfo || existing.transferInfo || null,\r\n\t\t\tsummary: event.summary || existing.summary || null,\r\n\t\t\tevents,\r\n\t\t};\r\n\r\n\t\tlet transferSummary = null;\r\n\t\tif (event.transferInfo) {\r\n\t\t\ttransferSummary = summaryFromTransferInfo(event.transferInfo, incoming.timestampMs || null);\r\n\t\t\ttransferSummary.transferId = event.transferId;\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tlogDetails: {\r\n\t\t\t\t...this.state.logDetails,\r\n\t\t\t\t[event.transferId]: detail,\r\n\t\t\t},\r\n\t\t\ttransferSummaries: transferSummary\r\n\t\t\t\t? mergeTransferSummary(this.state.transferSummaries, transferSummary)\r\n\t\t\t\t: this.state.transferSummaries,\r\n\t\t\tlastLogRevision: event.revision,\r\n\t\t});\r\n\t}\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nc = undefined;","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(382);\n"],"names":["initPromises","initTokens","parseVersion","versionLt","rangeToString","satisfy","exists","get","eagerOnly","findLatestVersion","init","useFallback","load","loadVersion","installedModules","moduleToHandlerMapping","___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","f","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","Fragment","jsx","jsxs","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","api","domAPI","update","newObj","remove","byIndex","splice","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","getTarget","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","btoa","unescape","encodeURIComponent","JSON","stringify","styleTagTransform","parentNode","removeChild","styleSheet","cssText","firstChild","createTextNode","PLUGIN_NAME","PERMISSIONS","LIST_EXPORTS","TRANSFER_EXPORTS","UI_VIEW","VIEW_LOGS","ExportPlatformRequest","plugin","src","dst","jsonSchema","properties","platformIndex","forceName","default","required","additionalProperties","json","fromJSON","toJSON","Response","success","exportId","error","GetPlatformTreeRequest","permission","revision","generatedAt","hosts","items","unassignedInstances","ListTransactionLogsRequest","limit","minimum","maximum","transferId","platformName","sourceInstanceId","sourceInstanceName","targetInstanceId","targetInstanceName","status","startedAt","completedAt","failedAt","lastEventAt","SetSurfaceExportSubscriptionRequest","tree","transfers","logs","SurfaceExportTreeUpdateEvent","SurfaceExportTransferUpdateEvent","transfer","SurfaceExportLogUpdateEvent","event","transferInfo","summary","PlatformExportEvent","instanceId","exportData","timestamp","ImportPlatformRequest","ListExportsRequest","size","TransferPlatformRequest","message","StartPlatformTransferRequest","sourcePlatformIndex","InstanceListPlatformsRequest","instanceName","platforms","surfaceIndex","surfaceName","entityCount","isLocked","ImportPlatformFromFileRequest","filename","TransferValidationEvent","validation","itemCountMatch","fluidCountMatch","mismatchDetails","metrics","description","tiles_ticks","entities_ticks","fluids_ticks","belts_ticks","state_ticks","validation_ticks","total_ticks","tiles_placed","entities_created","entities_failed","fluids_restored","belt_items_restored","circuits_connected","total_items","total_fluids","DeleteSourcePlatformRequest","UnlockSourcePlatformRequest","TransferStatusUpdate","color","GetTransactionLogRequest","events","locals","messageDefs","Text","Typography","BaseWebPlugin","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","o","defineProperty","enumerable","prop","S","I","name","initScope","initToken","indexOf","promises","Promise","all","then","split","exec","str","r","apply","t","range","pop","replace","version","s","bind","u","scope","entry","loaded","keys","versions","reduce","filtered","eager","scopeName","promise","fn","fallback","fail","msg","requiredVersion","satisfyingVersion","findSatisfyingVersion","warn","console","getInvalidVersionMessage","from","initialConsumes","forEach","factory","nc"],"sourceRoot":""}