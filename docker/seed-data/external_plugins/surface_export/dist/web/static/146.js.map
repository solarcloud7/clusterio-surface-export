{"version":3,"file":"static/146.js","mappings":"mJAOA,IAAMA,EAAMC,EAAQ,KACdC,EAAc,iBACdC,EAAWF,EAAQ,KACnB,CAAEG,YAAAA,CAAW,CAAE,CAAGD,EAExBH,EAAIK,gBAAgB,CAAC,CACpBC,KAAMF,EAAYG,YAAY,CAC9BC,MAAO,uBACPC,YAAa,4EACd,GAEAT,EAAIK,gBAAgB,CAAC,CACpBC,KAAMF,EAAYM,gBAAgB,CAClCF,MAAO,2BACPC,YAAa,yEACd,GAEAT,EAAIK,gBAAgB,CAAC,CACpBC,KAAMF,EAAYO,OAAO,CACzBH,MAAO,yBACPC,YAAa,oEACd,GAEAT,EAAIK,gBAAgB,CAAC,CACpBC,KAAMF,EAAYQ,SAAS,CAC3BJ,MAAO,uCACPC,YAAa,oFACd,GAMAI,EAAOC,OAAO,CAACC,MAAM,CAAG,CAEvBT,KAAMJ,EAGNM,MAAO,iBAGPC,YAAa,yEAGbO,mBAAoB,WAGpBC,qBAAsB,aAGtBC,cAAe,QAGfC,OAAQ,CAAC,kBAAkB,CAI3BC,qBAAsB,CACrB,CAAC,CAAC,EAAElB,EAAY,sBAAsB,CAAC,CAAC,CAAE,CACzCO,YAAa,2DACbY,KAAM,SACNC,aAAc,EACf,EACA,CAAC,CAAC,EAAEpB,EAAY,WAAW,CAAC,CAAC,CAAE,CAC9BO,YAAa,iEACbY,KAAM,SACNC,aAAc,GACdC,SAAU,EACX,EACA,CAAC,CAAC,EAAErB,EAAY,oBAAoB,CAAC,CAAC,CAAE,CACvCO,YAAa,wDACbY,KAAM,SACNC,aAAc,EACdC,SAAU,EACX,EACA,CAAC,CAAC,EAAErB,EAAY,cAAc,CAAC,CAAC,CAAE,CACjCO,YAAa,mDACbY,KAAM,UACNC,aAAc,GACdC,SAAU,EACX,EACA,CAAC,CAAC,EAAErB,EAAY,WAAW,CAAC,CAAC,CAAE,CAC9BO,YAAa,4EACbY,KAAM,UACNC,aAAc,GACdC,SAAU,EACX,CACD,EAIAC,uBAAwB,CAEvB,CAAC,CAAC,EAAEtB,EAAY,iBAAiB,CAAC,CAAC,CAAE,CACpCO,YAAa,4DACbY,KAAM,SACNC,aAAc,GACf,CACD,EAGAnB,SAAU,CACTA,EAASsB,qBAAqB,CAC9BtB,EAASuB,mBAAmB,CAC5BvB,EAASwB,qBAAqB,CAC9BxB,EAASyB,6BAA6B,CACtCzB,EAAS0B,kBAAkB,CAC3B1B,EAAS2B,uBAAuB,CAChC3B,EAAS4B,4BAA4B,CACrC5B,EAAS6B,4BAA4B,CACrC7B,EAAS8B,uBAAuB,CAChC9B,EAAS+B,2BAA2B,CACpC/B,EAASgC,2BAA2B,CACpChC,EAASiC,oBAAoB,CAC7BjC,EAASkC,sBAAsB,CAC/BlC,EAASmC,0BAA0B,CACnCnC,EAASoC,wBAAwB,CACjCpC,EAASqC,mCAAmC,CAC5CrC,EAASsC,4BAA4B,CACrCtC,EAASuC,gCAAgC,CACzCvC,EAASwC,2BAA2B,CACpC,CAGDC,cAAe,SAChB,C","sources":["webpack://@solarcloud7/plugin-surface-export/./index.js"],"sourcesContent":["/**\r\n * @file index.js\r\n * @description Clusterio plugin for exporting and importing Factorio space platforms\r\n * @see https://github.com/clusterio/clusterio/blob/master/docs/writing-plugins.md\r\n */\r\n\r\n\"use strict\";\r\nconst lib = require(\"@clusterio/lib\");\r\nconst PLUGIN_NAME = \"surface_export\";\r\nconst messages = require(\"./messages\");\r\nconst { PERMISSIONS } = messages;\r\n\r\nlib.definePermission({\r\n\tname: PERMISSIONS.LIST_EXPORTS,\r\n\ttitle: \"List Surface Exports\",\r\n\tdescription: \"Allows listing stored Surface Export platform snapshots on the controller.\",\r\n});\r\n\r\nlib.definePermission({\r\n\tname: PERMISSIONS.TRANSFER_EXPORTS,\r\n\ttitle: \"Transfer Surface Exports\",\r\n\tdescription: \"Allows pushing a stored Surface Export snapshot onto a target instance.\",\r\n});\r\n\r\nlib.definePermission({\r\n\tname: PERMISSIONS.UI_VIEW,\r\n\ttitle: \"View Surface Export UI\",\r\n\tdescription: \"Allows viewing Surface Export web UI pages and platform tree data.\",\r\n});\r\n\r\nlib.definePermission({\r\n\tname: PERMISSIONS.VIEW_LOGS,\r\n\ttitle: \"View Surface Export Transaction Logs\",\r\n\tdescription: \"Allows viewing transaction log summaries and details for Surface Export transfers.\",\r\n});\r\n\r\n/**\r\n * Plugin declaration\r\n * This is the main export that Clusterio looks for to recognize the plugin\r\n */\r\nmodule.exports.plugin = {\r\n\t// Internal plugin identifier used by Clusterio\r\n\tname: PLUGIN_NAME,\r\n\t\r\n\t// Display name shown to users\r\n\ttitle: \"Surface Export\",\r\n\t\r\n\t// Brief description\r\n\tdescription: \"Export and import Factorio space platforms between Clusterio instances\",\r\n\t\r\n\t// Path to instance plugin class (runs on hosts with Factorio servers)\r\n\tinstanceEntrypoint: \"instance\",\r\n\t\r\n\t// Path to controller plugin class (runs on central controller)\r\n\tcontrollerEntrypoint: \"controller\",\r\n\r\n\t// Path to web plugin class (runs in Clusterio web UI)\r\n\twebEntrypoint: \"./web\",\r\n\r\n\t// UI routes served by controller\r\n\troutes: [\"/surface-export\"],\r\n\t\r\n\t// Instance configuration fields\r\n\t// These can be set per-instance using clusterioctl\r\n\tinstanceConfigFields: {\r\n\t\t[`${PLUGIN_NAME}.max_export_cache_size`]: {\r\n\t\t\tdescription: \"Maximum number of platform exports to cache per instance\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tinitialValue: 10,\r\n\t\t},\r\n\t\t[`${PLUGIN_NAME}.batch_size`]: {\r\n\t\t\tdescription: \"Number of entities to process per tick during async operations\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tinitialValue: 50,\r\n\t\t\toptional: true,\r\n\t\t},\r\n\t\t[`${PLUGIN_NAME}.max_concurrent_jobs`]: {\r\n\t\t\tdescription: \"Maximum number of concurrent async import/export jobs\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tinitialValue: 3,\r\n\t\t\toptional: true,\r\n\t\t},\r\n\t\t[`${PLUGIN_NAME}.show_progress`]: {\r\n\t\t\tdescription: \"Show progress notifications for async operations\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tinitialValue: true,\r\n\t\t\toptional: true,\r\n\t\t},\r\n\t\t[`${PLUGIN_NAME}.debug_mode`]: {\r\n\t\t\tdescription: \"Enable debug mode - exports JSON comparison files for transfer validation\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tinitialValue: true,\r\n\t\t\toptional: true,\r\n\t\t},\r\n\t},\r\n\t\r\n\t// Controller configuration fields\r\n\t// These are global controller settings\r\n\tcontrollerConfigFields: {\r\n\t\t// Example: Global platform storage limit\r\n\t\t[`${PLUGIN_NAME}.max_storage_size`]: {\r\n\t\t\tdescription: \"Maximum number of platform exports to store on controller\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tinitialValue: 100,\r\n\t\t},\r\n\t},\r\n\t\r\n\t// Link messages for communication between controller/instances/ctl\r\n\tmessages: [\r\n\t\tmessages.ExportPlatformRequest,\r\n\t\tmessages.PlatformExportEvent,\r\n\t\tmessages.ImportPlatformRequest,\r\n\t\tmessages.ImportPlatformFromFileRequest,\r\n\t\tmessages.ListExportsRequest,\r\n\t\tmessages.TransferPlatformRequest,\r\n\t\tmessages.StartPlatformTransferRequest,\r\n\t\tmessages.InstanceListPlatformsRequest,\r\n\t\tmessages.TransferValidationEvent,\r\n\t\tmessages.DeleteSourcePlatformRequest,\r\n\t\tmessages.UnlockSourcePlatformRequest,\r\n\t\tmessages.TransferStatusUpdate,\r\n\t\tmessages.GetPlatformTreeRequest,\r\n\t\tmessages.ListTransactionLogsRequest,\r\n\t\tmessages.GetTransactionLogRequest,\r\n\t\tmessages.SetSurfaceExportSubscriptionRequest,\r\n\t\tmessages.SurfaceExportTreeUpdateEvent,\r\n\t\tmessages.SurfaceExportTransferUpdateEvent,\r\n\t\tmessages.SurfaceExportLogUpdateEvent,\r\n\t],\r\n\r\n\t// Optional CLI enhancements for clusterioctl\r\n\tctlEntrypoint: \"control\",\r\n};\r\n"],"names":["lib","require","PLUGIN_NAME","messages","PERMISSIONS","definePermission","name","LIST_EXPORTS","title","description","TRANSFER_EXPORTS","UI_VIEW","VIEW_LOGS","module","exports","plugin","instanceEntrypoint","controllerEntrypoint","webEntrypoint","routes","instanceConfigFields","type","initialValue","optional","controllerConfigFields","ExportPlatformRequest","PlatformExportEvent","ImportPlatformRequest","ImportPlatformFromFileRequest","ListExportsRequest","TransferPlatformRequest","StartPlatformTransferRequest","InstanceListPlatformsRequest","TransferValidationEvent","DeleteSourcePlatformRequest","UnlockSourcePlatformRequest","TransferStatusUpdate","GetPlatformTreeRequest","ListTransactionLogsRequest","GetTransactionLogRequest","SetSurfaceExportSubscriptionRequest","SurfaceExportTreeUpdateEvent","SurfaceExportTransferUpdateEvent","SurfaceExportLogUpdateEvent","ctlEntrypoint"],"sourceRoot":""}